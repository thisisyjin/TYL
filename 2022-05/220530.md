# Vue.js

**Today I Learned ... **`Vue.js`

>ğŸ™‹â€â™‚ï¸ [**Reference Book**](https://www.inflearn.com/course/vue-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EA%B8%B0)

***


> DAY 03 - 220530
- 6. mock ì„œë²„
- 7. ì„œë²„ ë°ì´í„° ë°”ì¸ë”©
- 8. ì»´í¬ë„ŒíŠ¸ ì‹¬í™”


## Mock ì„œë²„

- ì‹¤ì œ ì„œë²„ì²˜ëŸ¼ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìš”ì²­ì„ ë°›ìœ¼ë©´ ì‘ë‹µí•˜ëŠ” ê°€ì§œ ì„œë²„.
- ì‹¤ì œì²˜ëŸ¼ apië¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ Vueì—ì„œ ì‚¬ìš©í•¨.


### Postman

- API ê°œë°œì„ ìœ„í•œ í˜‘ì—… í”Œë«í¼.
- API í…ŒìŠ¤íŠ¸, ëª¨ë‹ˆí„°ë¦¬ìœ¼ ê³µìœ  ë“±ì˜ ê¸°ëŠ¥ì„ í•¨.
-> ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ ìš©ë„ë¡œ ì£¼ë¡œ ì‚¬ìš©ë¨.

- í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì™¸ì—ë„ **Mock ì„œë²„**ë¼ëŠ” ìœ ìš©í•œ ê¸°ëŠ¥ì„ ì§€ì›í•¨.

> ì‹¤ë¬´ íŒ - ë°ì´í„° ìƒ˜í”Œì„ ì—‘ì…€ íŒŒì¼ë¡œ ë§Œë“  í›„ JSON ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ([ì»¨ë²„í„° í”„ë¡œê·¸ë¨ ì‚¬ìš©](https://products.aspose.app/cells/ko/conversion/excel-to-json))
ì œê³µë°›ì€ ë°ì´í„°ë¥¼ **mock ì„œë²„ì— ë“±ë¡**í•œ í›„ ê°œë°œì„ ì§€ì²´ ì—†ì´ ì§„í–‰í•  ìˆ˜ ìˆìŒ.
-> ì¶”í›„ì— ë°ì´í„°ì…‹ì— ëŒ€í•œ **endpoint**ë¥¼ ì„œë²„ì£¼ì†Œë¡œ ë³€ê²½í•˜ë©´ ë¨.


ì•„ë˜ ì‚¬ì§„ëŒ€ë¡œ ì§„í–‰í•¨.

![](https://velog.velcdn.com/images/thisisyjin/post/eb2ff175-0845-4ba8-9eb6-bf44c2908b19/image.png)

mock server ìƒì„± (path = test)
![](https://velog.velcdn.com/images/thisisyjin/post/78f0b025-d750-416b-af0c-d662290163f6/image.png)

exampleì„ defaultë¡œ ì„¤ì •í•˜ê³ , Body ë¶€ë¶„ì— JSON í¬ë§·ì˜ ë°ì´í„°ë¥¼ ë„£ìŒ.
![](https://velog.velcdn.com/images/thisisyjin/post/a37177a4-289e-42f8-b8b2-e1906c54e7ee/image.png)

-> Save ë²„íŠ¼ ëˆ„ë¥´ë©´ í•´ë‹¹ mock ì„œë²„ ë‚´ì— testë¼ëŠ” APIê°€ ì¶”ê°€ëœ ê²ƒ.


![](https://velog.velcdn.com/images/thisisyjin/post/29ff6ca3-4d74-49ff-8760-ee790be2223b/image.png) ì»¬ë ‰ì…˜ Run 

ì½˜ì†”ì°½ì„ ì—´ë©´ ê° API í˜¸ì¶œì— ëŒ€í•œ URLì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.
![](https://velog.velcdn.com/images/thisisyjin/post/e6dc0b9d-9e23-48ae-bd83-bed06f56107b/image.png)


***

## ì„œë²„ ë°ì´í„° ë°”ì¸ë”©

### API í˜¸ì¶œ ë©”ì„œë“œ ìƒì„±

- ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ì„œë²„ë¡œë¶€í„° ë°›ê³ , ë°œìƒí•œ ë°ì´í„°ëŠ” ì„œë²„ë¡œ ë³´ë‚´ì„œ DBì— ì €ì¥í•´ì•¼ í•¨.
- ì„œë²„ì™€ì˜ í†µì‹ ì— ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” íŒ¨í‚¤ì§€ì¸ `Axios`ë¡œ API í˜¸ì¶œ ë©”ì„œë“œë¥¼ ê°œë°œ.


### Axiosë€?

- ì„œë²„ì™€ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹  í•  ìˆ˜ ìˆëŠ” HTTP ë¹„ë™ê¸° í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬.
- Promise ê°ì²´ í˜•íƒœë¡œ ê°’ì„ ë¦¬í„´í•¨. (async/awiat ê°€ëŠ¥, êµ¬í˜• ë¸Œë¼ìš°ì €ë„ ì§€ì›)
- ì‘ë‹µ ì‹œê°„ ì´ˆê³¼ì‹œ ìš”ì²­ì„ ì¢…ë£Œì‹œí‚¬ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ O.


``` bash
$ yarn add axios
```
> ì°¸ê³ ë¡œ `yarn add` ëŠ” `npm install --save`ì™€ ê°™ë‹¤.


### Axios ì‚¬ìš©ë²•

Axiosì—ì„œ ìš”ì²­ ë©”ì„œë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
1. axios.request(config)
2. axios.get(url[,config])
3. axios.post(url[, data, config])
4. axios.delete(url[,config])
5. axios.put(url[, data, config])
6. axios.patch(url[, data, config])
7. axios.options(url[,config])
8. axios.head(url[,config

= ì„œë²„ì™€ í†µì‹ ì‹œ í˜„ì¬ í†µì‹ í•˜ëŠ” ëª©ì ì´ ë¬´ì—‡ì¸ì§€ ëª…í™•í•˜ê²Œ ì „ë‹¬í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ.

### Mixin íŒŒì¼ ìƒì„±


> ğŸ™‹â€â™‚ï¸ ì™œ Mixinì„ ì“°ëŠ”ê°€?
- ë‹¤ìˆ˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì•¼ í•  ë•Œ, 
Vueì—ì„œëŠ” `mixin`ì„ í†µí•´ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
- ê³µí†µ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ì„œ ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜¸ì¶œí•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í›¨ì”¬ íš¨ìœ¨ì ì„.
- ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ í•¨ìˆ˜ë¥¼ ë³„ë„ë¡œ êµ¬í˜„í–ˆë‹¤ë©´ í”„ë¡œê·¸ë¨ ë‚´ë¶€ì˜ ë¡œì§ ë³€ê²½ ë˜ëŠ” ì—ëŸ¬ ìˆ˜ì • ë“± ë³€ê²½ì‚¬í•­ ë°œìƒì‹œì „ì²´ë¥¼ ë°”ê¿”ì•¼ í•˜ëŠ” ìœ„í—˜ì„±ì´ ìˆìŒ.


- Mock ì„œë²„ì˜ APIë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ Mixinsì— ë“±ë¡í•¨.


 src/mixins.js ìƒì„±
 
``` js
import axios from 'axios';

export default {
  methods: {
    async $api(url, method, data) {
      return (
        await axios({
          method: method,
          url,
          data,
        }).catch((e) => {
          console.log(e);
        })
      ).data;
    },
  },
};
```

<br>


src/main.js ìˆ˜ì •
``` js
import { createApp } from 'vue';
import App from './App.vue';
import router from './router';
import mixins from './mixins';
import { apply } from 'core-js/fn/reflect';

// createApp(App).use(router).mixin(mixins).mount('#app');

const app = createApp(App);
app.use(router);
app.mixin(mixins);
app.mount('#app');
```

### ì„œë²„ ë°ì´í„° ë Œë”ë§

- Mock ì„œë²„ì— API ë“±ë¡í•˜ê¸°
![](https://velog.velcdn.com/images/thisisyjin/post/0bea8069-5b67-46c5-b832-c317c8147fc5/image.png)


- ë¸Œë¼ìš°ì €ë¡œ ìš”ì²­ì‹œ

![](https://velog.velcdn.com/images/thisisyjin/post/6dcd17b4-9b2d-4fb8-bfa2-87852f4f2ff1/image.png)



### ì„œë²„ ë°ì´í„° í˜¸ì¶œ ë° ë Œë”ë§

- Vue ì»´í¬ë„ŒíŠ¸ì—ì„œ Mock ì„œë²„ë¡œ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ í›„, ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ì„ í•´ë³´ì.



src/views/DataBindingList.vue

``` vue
<template>
  <div>
    <table>
      <thead>
        <tr>
          <th>ì´ë¦„</th>
          <th>ë‚˜ì´</th>
          <th>ì„±ë³„</th>
        </tr>
      </thead>
      <tbody>
        <tr :key="i" v-for="(person, i) in personList">
          <td>{{ person.person_name }}</td>
          <td>{{ person.age }}</td>
          <td>{{ person.gender }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script>
export default {
  data() {
    return {
      personList: [],
    };
  },
  created() {
  // ë¼ì´í”„ ì‚¬ì´í´ í›…ì— ì˜í•´ getList ì‹¤í–‰
    this.getList();
  },
  methods: {
    async getList() {
    // mixinìœ¼ë¡œ ì„¤ì •í•´ë‘” $api í•¨ìˆ˜ë¥¼ ì‚¬ìš©(this) -> getìœ¼ë¡œ ê°€ì ¸ì˜¨ ê°’ì„ this.personlistë¡œ ëŒ€ì…
      this.personList = await this.$api(
        'https://5604e27b-c8b9-48b0-98a9-c4a272c9456b.mock.pstmn.io/list',
        'get'
      );
    },
  },
};
</script>

<style scoped>
table {
  width: 100%;
  border-collapse: collapse;
}

td,
th {
  border: 1px solid #666;
  text-align: left;
  padding: 8px 15px;
}
</style>

```

+) App.vueì™€ router/index ìˆ˜ì •í•˜ê¸°.

![](https://velog.velcdn.com/images/thisisyjin/post/9ad855f9-3bfd-45f6-b838-0e4d48042f24/image.png)


ì»´í¬ë„ŒíŠ¸ ìƒì„± -> created í•¨ìˆ˜ ì‹¤í–‰ (ë¼ì´í”„ì‚¬ì´í´ í›…) -> async getList -> await $api -> async - awiat axios(method, url, data) 

> dataëŠ” POST ìš”ì²­ì¼ë•Œë§Œ ì‘ì„±í•˜ë©´ ëœë‹¤. (ì§€ê¸ˆì€ GET ìš”ì²­ì´ë‹ˆ ë¹„ì›Œë‘ )
-> await axios()ì˜ ê²°ê³¼ëŠ” responseê°ì²´ì´ë‹¤. 
-> $api í•¨ìˆ˜ëŠ” return (await axios()).data ì´ë¯€ë¡œ response.dataë¥¼ ë¦¬í„´í•¨.

<br>

- ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
``` vue
<tr :key="i" v-for="(person, i) in personList">
  <td>{{ person.person_name }}</td>
  <td>{{ person.age }}</td>
  <td>{{ person.gender }}</td>
</tr>
```
-> `v-for`ì„ ì´ìš©í•œ ë°°ì—´(=ë¦¬ìŠ¤íŠ¸) ë Œë”ë§.

<br>


+) ì°¸ê³ ë¡œ, personListëŠ” ë°°ì—´ì´ ì•„ë‹Œ **Proxy** íƒ€ì…ì´ë‹¤!
![](https://velog.velcdn.com/images/thisisyjin/post/7d0c6db9-25ab-4aeb-bda8-41a91b79ec69/image.png)

>- Proxy ë€? - [MDN ë¬¸ì„œ ì°¸ê³ ](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Proxy)

![](https://velog.velcdn.com/images/thisisyjin/post/647c1c98-a068-4564-b9f5-b4d7448fdb2f/image.png) -> ì°¸ê³ ë¡œ, ë°ì´í„°(ê°ì²´)ëŠ” [[Target]]ì´ë¼ëŠ” í”„ë¡œí¼í‹° ë‚´ì— ì¡´ì¬í•œë‹¤.


***


## ì»´í¬ë„ŒíŠ¸ ì‹¬í™”

### ë¶€ëª¨ / ìì‹ ì»´í¬ë„ŒíŠ¸

components/PageTitle.vue
``` vue
<template>
  <h2>PageTitle</h2>
</template>
```

pages/NestedComponent.vue
``` vue
<template>
  <div>
    <PageTitle />
  </div>
</template>

<script>
import PageTitle from '../components/PageTitle.vue';
export default {
  components: { PageTitle },
};
</script>
```

> 
1. **import** í•¨
2. export - **components** : { ì»´í¬ë„ŒíŠ¸ëª… }
3. templateì—ì„œ ì‚¬ìš©


<br>

### props ì „ë‹¬

ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ props (ë°ì´í„°) ì „ë‹¬

PageTitle.vue ìˆ˜ì •
``` vue
<template>
  <h2>{{ title }}</h2>
</template>

<script>
export default {
  props: {
    title: {
      type: String,
      default: 'í˜ì´ì§€ ì œëª©ì…ë‹ˆë‹¤.',
    },
  },
};
</script>
```

vues/NestedComponent.vue ìˆ˜ì •

``` vue
<template>
  <div>
    <PageTitle title="propsë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŒ" />
  </div>
</template>

<script>
import PageTitle from '../components/PageTitle.vue';
export default {
  components: { PageTitle },
};
</script>
```

### ì •ì  / ë™ì  Prop ì „ë‹¬

- ì •ì  prop ì „ë‹¬
``` vue
<PageTitle title="propsë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŒ" />
```

- ë™ì  prop ì „ë‹¬
``` vue
<page-title :title="title" />

data() {
   return {
      title: 'ë™ì  íƒ€ì´í‹€'
   };
}
```

### ìˆ«ìí˜• ì „ë‹¬

- `v-bind` ë¥¼ í†µí•´ì„œë§Œ ì „ë‹¬í•´ì•¼ í•¨. (ì•„ë‹ˆë©´ ë¬¸ìì—´ ì·¨ê¸‰)
``` vue
<blog-post likes="42" /> 
<!--ë¬¸ìì—´ ì·¨ê¸‰-->
```

``` vue
<blog-post :likes="42" />
```

### Boolean ì „ë‹¬
- ë§ˆì°¬ê°€ì§€ë¡œ ë°˜ë“œì‹œ `v-bind`ë¥¼ í†µí•´ì„œ ì „ë‹¬. (:)
``` vue
<blog-post :is-loading="true" />
```

### ë°°ì—´(Array) ì „ë‹¬
- ë§ˆì°¬ê°€ì§€ë¡œ `v-bind`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë¬¸ìì—´ë¡œ ì „ë‹¬ë¨.
``` vue
<blog-post :comment-id="[234, 567, 890]" />
<blog-post :comment-id="post.idArrays" />
```

### ê°ì²´ ì „ë‹¬

- `v-bind`ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨
``` vue
<blog-post v-bind="post />
<blog-post :id="post.id" :title="post.title" />
```

### Props ìœ íš¨ì„± ê²€ì‚¬
- default (ê¸°ë³¸ê°’) / required (í•„ìˆ˜ ì—¬ë¶€) / validator (ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜)

``` js
props: {
    propA: Number,
    propB: [String, Number],
    propC: { type: String, required: true },
    propD: {
      type: Object,
      default: function () {
        return { message: 'hello' };
      },
    },
    propE: {
      validator: function (value) {
        return ['success', 'warning', 'danger'].indexOf(value) !== -1;
      },
    },
  }
```

