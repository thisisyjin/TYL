# Vue.js

**Today I Learned ... **`Vue.js`

>ğŸ™‹â€â™‚ï¸ [**Reference Book**](https://www.inflearn.com/course/vue-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EB%B0%B0%EC%9B%8C%EB%B3%B4%EA%B8%B0)

***


> DAY 01 - 220528
- 1. Vue.js ë€?
- 2. ê°œë°œí™˜ê²½ êµ¬ì„±
- 3. Vue CLIë¡œ í”„ë¡œì íŠ¸ ìƒì„±
- 4. Vue-router (ë¼ìš°íŒ…)

## Vue ì‹œì‘í•˜ê¸°


### VScode Extension

`Vetur`

- í™•ì¥ìëª… `.vue`ì— í•œí•´ì„œ **Syntax Highlighting** ì§€ì›.

<br>


### vue cli ì„¤ì¹˜

> #### â—ï¸ Vue CLI ë€?
- ìë™ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì¤Œ.
- reactì˜ CRAì™€ ìœ ì‚¬í•¨.
- ë‹¨, ì—¬ëŸ¬ ì˜µì…˜ìœ¼ë¡œ ìƒì„± ê°€ëŠ¥ + UIë„ ìˆì–´ í¸ë¦¬í•¨.

``` bash
$ npm install -g @vue/cli
```

- ì°¸ê³ ë¡œ, ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ì ‘ì†í•˜ê±°ë‚˜ sudoë¥¼ ë¶™ì—¬ì¤˜ì•¼ ì„¤ì¹˜ë˜ëŠ” ë“¯ í•˜ë‹¤.

<br>


### Vue í”„ë¡œì íŠ¸ ìƒì„±

``` bash
$ vue create vue-project
```
íŒŒì¼ëª…ì´ vue-projectì¸ í”„ë¡œì íŠ¸ ìƒì„±í•¨.
í›„ì— ëª‡ê°€ì§€ ì§ˆë¬¸ì„ í•˜ëŠ”ë°, y / Default(Vue3) ìˆœìœ¼ë¡œ ì„ íƒí•œ í›„ ì—”í„°ë¥¼ ëˆ„ë¥¸ë‹¤.

> #### ğŸ›  manually selectì‹œ
- ESLint + Standard Config
- Lint on save (ì €ì¥ì‹œì ì— Lint ì ìš©)
- Babel / Router / Vuex / Linter, Formatter ì„ íƒ

<br>


### Vue í”„ë¡œì íŠ¸ ì‹¤í–‰

``` bash
$ cd vue-project
$ yarn serve 
```
- ê¸°ë³¸ í¬íŠ¸ ì™¸ì˜ ë‹¤ë¥¸ í¬íŠ¸ ì§€ì •ì‹œ
`yarn serve -- --port 3000` ê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ë¨.

<br>


### íŒŒì¼ êµ¬ì¡°

```
â”œâ”€â”€ public
â””â”€â”€ src
    â”œâ”€â”€ assets
    â””â”€â”€ components

```
<br>

### ì»´í¬ë„ŒíŠ¸ êµ¬ì„±

í•œ ì»´í¬ë„ŒíŠ¸ì— HTML / JS / CSS ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.

| html | js | css |
|:-:|:-:|:-:|
|`<template>`|`<script>`|`<style>`|


<br>

### í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ì‹¤í–‰

``` bash
$ vue ui
```

localhost:8000 ì´ ì—´ë¦¬ë©´ì„œ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €ê°€ ì‹¤í–‰ë¨.

- ëŒ€ì‹œë³´ë“œ
- í”ŒëŸ¬ê·¸ì¸
- ì˜ì¡´ì„±
- ì„¤ì •
- ì‘ì—… ëª©ë¡

***

## Vue Router ì„¤ì •

### â—ï¸ë¼ìš°íŒ… ì´ë€?

- SPA ì—ì„œëŠ” í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œ ë§ˆë‹¤ ì„œë²„ì— ìš”ì²­(X) / ë¯¸ë¦¬ ê°–ê³ ìˆë˜ í˜ì´ì§€ë¥¼ ë¼ìš°íŒ…í•˜ì—¬ í™”ë©´ ê°±ì‹ (O)

- url ì£¼ì†Œì— ë”°ë¼ í˜ì´ì§€ê°€ ì „í™˜ë¨.


### Vue-Router ì„¤ì¹˜

``` bash
$ vue add router
```

-> `vue-router` ê°€ ì„¤ì¹˜ëœë‹¤.

![](https://velog.velcdn.com/images/thisisyjin/post/89b92c28-6680-4213-8ae7-9dae873b2432/image.png)

`yarn serve`ë¥¼ í•´ë³´ë©´ vue-routerì˜ ì‚¬ìš© ì˜ˆì‹œê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ì–´ìˆë‹¤.

<br>

### App.vue

- í”„ë¡œì íŠ¸ í´ë”ì˜ src/App.vueë¥¼ ì‚´í´ë³´ì
``` vue
<template>
  <nav>
    <router-link to="/">Home</router-link> |
    <router-link to="/about">About</router-link>
  </nav>
  <router-view/>
</template>

...
```

- router-link ë¼ëŠ” elementê°€ ìˆê³ , `to` ë¼ëŠ” props ì•ˆì— pathê°€ ë“¤ì–´ìˆë‹¤.

- ê°œë°œìë„êµ¬ë¥¼ ë³´ë©´, `router-link`ëŠ” anchor íƒœê·¸ì´ë‹¤.
-> ë§ˆì¹˜ react-router-domì˜ Link


![](https://velog.velcdn.com/images/thisisyjin/post/90c5c639-62ee-4a0e-a0b3-cb10049eb0ab/image.png)


- ì°¸ê³ ë¡œ, active ìƒíƒœì¸ router-link íƒœê·¸ëŠ” 
`.router-link-exact-active` ë¼ëŠ” í´ë˜ìŠ¤ê°€ ìë™ìœ¼ë¡œ ë¶€ì—¬ëœë‹¤.


### router/index 

router ë””ë ‰í„°ë¦¬ì˜ index.jsë¥¼ ì‚´í´ë³´ì.

``` js
import { createRouter, createWebHistory } from 'vue-router'
import HomeView from '../views/HomeView.vue'

const routes = [
  {
    path: '/',
    name: 'home',
    component: HomeView
  },
  {
    path: '/about',
    name: 'about',
    // route level code-splitting
    // this generates a separate chunk (about.[hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () => import(/* webpackChunkName: "about" */ '../views/AboutView.vue')
  }
]

const router = createRouter({
  history: createWebHistory(process.env.BASE_URL),
  routes
})

export default router

```

- `vue-router`ì˜ **createRouter**ë¡œ ë¼ìš°í„°ë¥¼ ìƒì„±í•œë‹¤.
- router ê°ì²´ëŠ” `history`ì™€ `route` ê°’ì„ ê°–ëŠ”ë‹¤.
-> routesëŠ” ê°ì²´ë¡œ ì´ë£¨ì–´ì” ë°°ì—´ì´ë‹¤. (ê° routeë¥¼ ê°ì²´ë¡œ ë‚˜íƒ€ë‚¸ ë°°ì—´)
-> HistoryëŠ” **createWebHistory**ë¡œ ìƒì„±í•œë‹¤.

- ê° routeëŠ” path, name, component í•„ë“œë¥¼ ê°–ëŠ”ë‹¤. (í•„ìˆ˜)
(name : ì‹ë³„ì ì—­í•  / component : í•´ë‹¹ pathì— ë Œë”ë§í•  ì»´í¬ë„ŒíŠ¸ëª…)



#### âœ… ì²­í¬íŒŒì¼ ìƒì„±

``` js
 {
    path: '/about',
    name: 'about',
    // route level code-splitting
    // this generates a separate chunk (about.[hash].js) for this route
    // which is lazy-loaded when the route is visited.
    component: () => import(/* webpackChunkName: "about" */ '../views/AboutView.vue')
  }
```

-> ` /* webpackChunkName: "about" */  `  ë¼ëŠ” ì£¼ì„ ì‚¬ìš©ì‹œ
ë¼ìš°íŠ¸ ë ˆë²¨ì—ì„œ ì½”ë“œìŠ¤í”Œë¦¬íŒ…ì„ í•˜ê³  ë³„ë„ì˜ chunk íŒŒì¼ì„ ë§Œë“¤ì–´ ë¦¬ì†ŒìŠ¤ë¥¼ ë¡œë“œí•¨.


> #### ğŸ™‹â€â™‚ï¸ ì°¨ì´ì 
ì²­í¬íŒŒì¼ O - í•´ë‹¹ urlì— ì ‘ê·¼í•˜ê¸° ì „ê¹Œì§€ëŠ” vue íŒŒì¼ ì„í¬íŠ¸ X
ì²­í¬íŒŒì¼ X - í•´ë‹¹ pathì— ì ‘ê·¼í•˜ì§€ ì•Šë”ë¼ë„ ì´ë¯¸ vue íŒŒì¼ì„ ì„í¬íŠ¸.


***

### Lazy Load ì ìš©
= ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸.


- Vue Cli ë¡œ ë¹Œë“œì‹œ **ì†ŒìŠ¤ì½”ë“œê°€ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ í•©ì³ì§**.
- í° í”„ë¡œì íŠ¸ì—ì„œëŠ” ì „ì²´ ì†ŒìŠ¤ì½”ë“œê°€ í•˜ë‚˜ë¡œ í•©ì³ì ¸ì„œ ë§¤ìš° ìš©ëŸ‰ì´ ì»¤ì§.
-> ì´ˆê¸° ë Œë”ë§ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë¬¸ì œ ë°œìƒ.


- Lazy Load ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ 
**ì»´í¬ë„ŒíŠ¸ í˜¹ì€ ë¼ìš°í„° ë‹¨ìœ„**ë¡œ ê·¸ë•Œê·¸ë•Œ ë‹¤ìš´ë¡œë“œí•¨.


<br>


- ìœ„ì—ì„œ í•œëŒ€ë¡œ Lazy Loadë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„í¬íŠ¸í•œ ê²ƒì€ Vue CLIì˜ **`prefetch` ê¸°ëŠ¥**ì´ ì‚¬ìš©ë¨.
-> ë¯¸ë˜ì— ì‚¬ìš©ë  ë¦¬ì†ŒìŠ¤(=ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ ë“±) ì„ ìºì‹œì— ì €ì¥í•´ë‘ .


- ìœ ìš©í•œ ê¸°ëŠ¥ì´ì§€ë§Œ, ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ë¡œ ì •ì˜ëœ ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ ìºì‹œì— ë‹´ëŠ” ë¹„ìš©ì´ ë°œìƒí•¨.
- ë³„ë„ë¡œ ë¶„ë¦¬ëœ ì²­í¬íŒŒì¼ ê°ê°ì— ëŒ€í•œ requestê°€ ë°œìƒ. 
-> ì˜¤íˆë ¤ ë Œë”ë§ ì‹œê°„ì´ ëŠ˜ì–´ë‚ ìˆ˜ë„ ìˆìŒ.
- ì•„ì§ ì‚¬ìš©í•˜ì§€ ì•Šê³ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ë¨¼ì € ë‹¤ìš´ë°›ì€ í›„, ì²« í™”ë©´ì— ì‚¬ìš©ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ë‹¤ìš´í•¨.

-> [ê²°ë¡ ] ì´ˆê¸° ë Œë”ë§ì€ ì˜¤íˆë ¤ prefetchë¥¼ ì‚¬ìš©í•˜ì§€ ë§ì.
ì •ë§ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ì„œë§Œ ì ìš©í•˜ì. (ì²« í™”ë©´ ì œì™¸í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¦¬ì†ŒìŠ¤ê°€ ë§¤ìš° í° ê²½ìš°)


***

### prefetch ê¸°ëŠ¥ Off

`Vue.config.js` íŒŒì¼ ìƒì„±í•˜ê¸°.

``` js
module.exports = {
  chainWebpack: (config) => {
    config.plugins.delete('prefetch');
  },
};
```
- prefetch ê¸°ëŠ¥ì„ ì‚­ì œí•¨.
- ì‚­ì œí•´ë„ ì»´í¬ë„ŒíŠ¸ ì„í¬íŠ¸ì‹œ Lazy Loadë¡œ ë¹„ë™ê¸° ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê°€ëŠ¥.

``` js
import(/* webpackPrefetch: true */ './views/About.vue');
```


> ì‚¬ìš©ìì˜ ì ‘ì† ë¹ˆë„ê°€ ë‚®ì€ ì»´í¬ë„ŒíŠ¸ (+ìš©ëŸ‰ í°ê²½ìš°) - prefetch
- ì‚¬ìš©ì ì ‘ì† ì‹œì ì— ë¦¬ì†ŒìŠ¤ ë‹¤ìš´ë°›ìŒ.


***

### main.js

``` js
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

createApp(App).use(router).mount('#app')

```

- routes/index ì—ì„œ ìƒì„±í•œ routerì„ ë¶ˆëŸ¬ì˜´.
- `createApp(App)`ì€ -> App.vueë¥¼ ì¸ìŠ¤í„´ìŠ¤í™” í•˜ëŠ” ê²ƒ.


- `.use(router)` : ë¼ìš°í„° ì‚¬ìš© (routerì€ history, routes ì¡´ì¬)
- `.mount('#app`) : index.htmlì˜ #appì— ë§ˆìš´íŠ¸ì‹œí‚´.
-> reactDOMì˜ renderê³¼ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„.

 
