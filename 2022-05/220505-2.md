# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**Reference Lecture*](https://nomadcoders.co/react-hooks-introduction)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)

***

> ** React Hooks ê°•ì˜ **


# Hooks

- vsCode ëŒ€ì‹  [CodeSandBox](https://codesandbox.io/)ì—ì„œ ë¨¼ì € ì‘ì„±í•˜ê¸°.


## 1. useState

### useState ì‚¬ìš©ë²•

``` jsx
import React, { useState } from 'react';

export default function App() {
  const [item, setItem] = useState(1);

  const incrementItem = () => setItem(item + 1);
  const decrementItem = () => setItem(item - 1);

  return (
    <div className="App">
      <h1>Hello CodeSandbox {item}</h1>
      <button onClick={incrementItem}>+1</button>
      <button onClick={decrementItem}>-1</button>
    </div>
  );
}
```

## useInput ìƒì„±


### 1. value 

``` jsx
import React, { useState } from "react";
import "./styles.css";

const useInput = (initialValue) => {
  const [value, setValue] = useState(initialValue);
  return { value } ;
};

const App = () => {
  const name = useInput("Mr.");
  return (
    <div>
      <h1>Hello</h1>
      <input placeholder="Name" value={name.value} />
    </div>
  );
}

export default App;
```
-> useInput Hook ìƒì„±.
 
name = useInput()ì„ í•´ì£¼ë©´ 
nameì—ëŠ” { value } ê°€ ì €ì¥ë¨. ì¦‰, name.valueì— value(`state`)ê°’ì´ ì €ì¥ë¨.


#### âš¡ï¸ TIP! 

``` jsx
<input placeholder="Name" {...name} />
```
name ì•ˆì— ìˆëŠ” ê²ƒì„ í’€ì–´ì¤˜ì„œ (spread)
value ì–´íŠ¸ë¦¬ë·°íŠ¸ì— value(`state`)ê°’ì´ ë“¤ì–´ê°„ë‹¤.

> nameì€ { value : Mr. }ë¼ëŠ” ê°ì²´ì„.
ê°ì²´ë¥¼ í’€ì–´ì£¼ë©´ value: Mr.ì´ ë˜ë¯€ë¡œ value ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ê°’ì— Mr. ì´ ë“¤ì–´ê°€ê²Œ ë˜ëŠ” ê²ƒ.


### 2. onClick 
``` jsx
import React, { useState } from "react";
import "./styles.css";

const useInput = (initialValue) => {
  const [value, setValue] = useState(initialValue);
  const onChange = (e) => {
    const {
      target: { value }
    } = e;
    setValue(value);
  };
  return { value, onChange };
};

export default function App() {
  const name = useInput("Mr.");
  const email = useInput("@");

  return (
    <div>
      <h1>Hello</h1>
      <input placeholder="Name" {...name} />
      <input placeholder="Email" {...email} />
    </div>
  );
}
```

> **spread(...) ì´ìš©**
return { value, onChange } ë¥¼ í•´ì£¼ë¯€ë¡œ,
name = { value: Mr. , onChange: onChange } ì´ê³ 
spread í•˜ë©´ value ì–´íŠ¸ë¦¬ë·°íŠ¸ì— Mr.ê°€ ë“¤ì–´ê°€ê³ , 
onChange ì–´íŠ¸ë¦¬ë·°íŠ¸ì—ëŠ” onChangeí•¨ìˆ˜ê°€ ë“¤ì–´ê°.


***

### validator ì¶”ê°€
- ì˜ˆë¥¼ ë“¤ë©´, inputì— ì…ë ¥í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ ê¸¸ì´ë¥¼
10ìë¡œ ì œí•œí•˜ë ¤ í•œë‹¤.
-> `useInput`ì˜ ì¸ìë¡œ initialValueì™€ í•¨ê»˜ `validator`ì„ ë„£ì–´ì¤€ë‹¤.

``` jsx
import React, { useState } from "react";
import "./styles.css";

const useInput = (initialValue, validator) => {
  const [value, setValue] = useState(initialValue);
  const onChange = (e) => {
    const {
      target: { value }
    } = e;
    let willUpdate = true;
    if (typeof validator === 'function') {
      willUpdate = validator(value);
    }
    if (willUpdate) {
      setValue(value);
    }
  };
  return { value, onChange };
};

export default function App() {
  const maxlength = (value) => value.length <= 10;
  const name = useInput("Mr.", maxlength);

  return (
    <div>
      <h1>Hello</h1>
      <input placeholder="Name" {...name} />
    </div>
  );
}
```

`validator` ê°’ì€ í•¨ìˆ˜ê°€ ë ìˆ˜ë„ ìˆê³ , ìœ íš¨ì„± ê²€ì‚¬ê°€ ë¶ˆí•„ìš”í•œ ê²½ìš°ì—ëŠ” ì¸ìë¡œ ì „ë‹¬í•´ì£¼ì§€ ì•Šìœ¼ë©´ undefinedê°€ ë ìˆ˜ë„ ìˆë‹¤.

>1. validatorì˜ ê°’ì´ undefindedë¼ë©´ (ê¸°ë³¸)
-> willUpdateëŠ” trueì´ê³ ,
if(willUpdate) { setValue(value) } ê°€ ë™ì‘í•˜ê²Œ í•œë‹¤.
>
>
>2. validatorì˜ ê°’ì´ í•¨ìˆ˜ë¼ë©´
-> `typeof` validator === 'function'ì´ë©´
-> willUpdate = validator(value);

-> validator í•¨ìˆ˜ì— ì¸ìë¡œ valueë¥¼ ë„£ì–´ì£¼ê³ 
ë¦¬í„´ê°’ì´ trueë©´ setValueê°€ ë˜ê³ ,
falseë©´ setValueê°€ ë˜ì§€ ì•ŠìŒ.



***

## useTabs

useTabs.js

``` jsx
import { useState } from "react";
const content = [
  {
    tab: "Section 1",
    content: "I'm the content of the Section 1"
  },
  {
    tab: "Section 2",
    content: "I'm the content of the Section 2"
  },
]
  
const useTabs = (initialTab, allTabs) => {
  if(!allTabs || !Array.isArray(allTabs)) {
    return;
  }
  const [currentIndex, setCurrentIndex] = useState(initialTab);

  return {
    currentItem : allTabs[currentIndex],
    changeItem : setCurrentIndex
  }
}

const App = () => {
  const { currentItem, changeItem } = useTabs(0, content);
  return (
  <div>
    {content.map((section, index) => 
      <button onClick={() =>changeItem(index)}
      >{section.tab}</button>)}
      <div>
        {currentItem.content}
      </div>
      
  </div>
  );
}
```

- ë§ˆì°¬ê°€ì§€ë¡œ `useState`ë¥¼ ì´ìš©í•¨.
- initialTabì€ ì´ˆê¸° ê°’, ì¦‰ ì¸ë±ìŠ¤ì´ë‹¤.
- allTabsëŠ” ë°ì´í„° ì›ë³¸ê²©ì¸ ë°°ì—´ í˜•íƒœë¡œ, ì•ˆì— {tab, content} ì¸ ê°ì²´ê°€ ìˆë‹¤.


