# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**Reference Book**](https://thebook.io/080203/)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)

***

> **ë¦¬ì•¡íŠ¸ë¥¼ ë‹¤ë£¨ëŠ” ê¸°ìˆ  DAY 10**
- ì¼ì • ê´€ë¦¬ App


# To Do App

## í™˜ê²½ êµ¬ì„±


### create-react-app

`npm init`í›„ì—,
`yarn create react-app [í”„ë¡œì íŠ¸ëª…]`


### íŒ¨í‚¤ì§€ ì„¤ì¹˜

1. sass
2. classname
3. react-icons

`yarn add sass classname react-icons`ë¡œ ì„¤ì¹˜.

### ì»´í¬ë„ŒíŠ¸ êµ¬ìƒ

| Component |
| :--: | 
| TodoTemplate |
| TodoInsert |
| TodoList |
| TodoListItem |


### ì´ˆê¸° ì½”ë“œ ì‘ì„±

#### 1. `.prettierrc` ì‘ì„±
``` js
{
    "singleQuote": true,
    "semi": true,
    "useTabs": false,
    "tabWidth": 2,
    "trailingComma": "all",
    "printWidth": 80
}
```

#### 2. index.css
```css
body {
  margin: 0;
  padding: 0;
  background-color: #e9ecef;
}
```

#### 3. App.js

``` jsx
const App = () => {
  return <div>Hello React!</div>
}

export default App;
```


***

## ì»´í¬ë„ŒíŠ¸ ìƒì„±

`/src/components` í´ë”ì— ìƒì„±.


### 1) TodoTemplate.js

``` jsx
import './TodoTemplate.scss';

const TodoTemplate = ({children}) => {
    return (
        <div className='TodoTemplate'>
            <div className='app-title'>ì¼ì • ê´€ë¦¬</div>
            <div className='content'>{children}</div>
        </div>
    );
};

export default TodoTemplate;
```

> `props.children`ì„ ì´ìš©í•˜ì—¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë Œë”ë§í•¨.


### 2) TodoTemplate.scss

``` scss
.TodoTemplate {
  width: 512px;
  margin: 6rem auto 0;
  border-radius: 4px;
  overflow: hidden;

  .app-title {
    background-color: #22b8cf;
    color: #fff;
    height: 4rem;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .content {
    background: #fff;
  }
}

```

> `.TodoTemplate` ì•ˆì— `.app-title`ê³¼ `.content`ë¥¼ ë„£ìŒ.
= `.TodoTemplate .app-title`ê³¼ ê°™ìŒ.



### 3) TodoList.js

``` jsx
import TodoListItem from "./TodoListItem";
import './TodoList.scss';


const TodoList = () => {
    return (
        <div className="TodoList">
            <TodoListItem />
            <TodoListItem />
            <TodoListItem />
        </div>
    );
};

export default TodoList;
```

### 4) TodoListItem.js
``` jsx
import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import './TodoListItem.scss';

const TodoListItem = () => {
    return (
        <div className='TodoListItem'>
            <div className='checkbox'>
                <MdCheckBoxOutlineBlank />
                <div className='text'>í•  ì¼</div>
            </div>
            <div className='remove'>
                <MdRemoveCircleOutline />
            </div>
        </div>
    );
};

export default TodoListItem;
```
> **[react-icons](https://react-icons.github.io/react-icons/)** ì˜ md(=Material Design icons)ì„ ì„í¬íŠ¸í•¨.
- **svg íŒŒì¼**ì„ ì»´í¬ë„ŒíŠ¸ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥.
- í¬ê¸° ì¡°ì ˆì‹œ **font-size** ì¡°ì ˆ or **props** ì´ìš©.


### 5) TodoList.scss

``` scss
.TodoList {
  min-height: 320px;
  max-height: 513px;
  overflow-y: auto;
}
```

### 6) TodoListItem.scss

``` scss
.TodoListItem {
  padding: 1rem;
  display: flex;
  align-items: center;

  &:nth-child(even) {
    background: #f8f9fa;
  }

  .checkbox {
    cursor: pointer;
    flex: 1;
    display: flex;
    align-items: center;
    svg {
      font-size: 1.5rem;
    }

    .text {
      margin-left: 0.5rem;
      flex: 1;
    }

    &.checked {
      svg {
        color: #22b8cf;
      }
      .text {
        color: #adb5bd;
        text-decoration: line-through;
      }
    }
  }

  .remove {
    display: flex;
    align-items: center;
    font-size: 1.5rem;
    color: #ff6b6b;
    cursor: pointer;
    &:hover {
      color: #ff8787;
    }
  }

  & + & {
    border-top: 1px solid #dee2e6;
  }
}
```

> - nth-child() : ë¶€ëª¨ìš”ì†Œì˜ në²ˆì§¸ ìì‹ìš”ì†Œ. 
-> even (ì§ìˆ˜) / odd (í™€ìˆ˜)
> -  nth-of-type() : ë¶€ëª¨ìš”ì†Œì˜ në²ˆì§¸ **íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ”** ìì‹ìš”ì†Œ
<br>
> - `flex : 1`ì€ ì°¨ì§€í•  ìˆ˜ ìˆëŠ” ì˜ì—­ì„ ëª¨ë‘ ì°¾í•˜ë¼ëŠ” ì˜ë¯¸.
-> flex-grow

<br>

### Result

![](https://velog.velcdn.com/images/thisisyjin/post/37e5aba6-6f3a-4661-ae46-0f21e3c44137/image.png)

- ì»´í¬ë„ŒíŠ¸ êµ¬ì„± + ë””ìì¸ì€ ì™„ë£Œ.
- ì´ì œ, ì‹¤ì œë¡œ Reactì˜ ê¸°ëŠ¥ê³¼ ë°ì´í„°ë¥¼ êµ¬í˜„í•´ë³´ì.

> ì°¸ê³  - íŒŒë¹„ì½˜ì€ í…ŒìŠ¤íŠ¸ê²¸ ë“±ë¡í•´ë´¤ëŠ”ë°, ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ì‘ì„±í•¨.
``` html
<link rel="icon" href="./fav.ico" type="image/x-icon" sizes="16x16" />
```

***

## React ê¸°ëŠ¥ êµ¬í˜„


### App.js 
`state`ë¥¼ ê°–ê²Œ í•¨.

``` jsx
import { useState } from "react";
import TodoInsert from "./components/TodoInsert";
import TodoList from "./components/TodoList";
import TodoTemplate from "./components/TodoTemplate"

const App = () => {

  const [todos, setTodos] = useState([
    {
      id: 1,
      text: 'ë¦¬ì•¡íŠ¸ ê¸°ì´ˆ ì•Œì•„ë³´ê¸°',
      checked: true,
    },
    {
      id: 2,
      text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•´ë³´ê¸°',
      checked: true,
    },
    {
      id: 3,
      text: 'ì¼ì • ê´€ë¦¬ ì•± ë§Œë“¤ê¸°',
      checked: false,
    }
  ]);

  return (
    <TodoTemplate>
      <TodoInsert />
      <TodoList todos={todos}/>
    </TodoTemplate>
  );
}

export default App;
```

`todos`ë¼ëŠ” stateë¥¼ ê°–ê²Œ í•œ í›„, (useState)
TodoList ì»´í¬ë„ŒíŠ¸ì— `props`ë¡œ ë„˜ê²¨ì¤€ë‹¤.



### TodoList.js

``` jsx
import TodoListItem from "./TodoListItem";
import './TodoList.scss';


const TodoList = ({todos}) => {
    return (
        <div className="TodoList">
            {todos.map(todo => (
                <TodoListItem todo={todo} key={todo.id} />
            ))}
        </div>
    );
};

export default TodoList;
```

- `props.todos`ë¥¼ ë°›ì•„ì™€ì„œ ê°ê°ì˜ todos ë°°ì—´ì˜ ìš”ì†Œë¡œ TodoListItem ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•¨.
- TodoListItemì˜ propsë¡œ todos ë°°ì—´ì˜ ê° ìš”ì†Œì¸ `todo` ë¥¼ ë„˜ê²¨ì¤Œ. 
(todosëŠ” ë°°ì—´ ì•ˆì— ìš”ì†Œë¡œ ê°ì²´ê°€ ìˆëŠ” êµ¬ì¡°ì´ë¯€ë¡œ, todoëŠ” ê°ì²´ì´ë‹¤.)



### TodoListItem.js

``` jsx
import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import cn from 'classnames';
import './TodoListItem.scss';


const TodoListItem = ({ todo }) => {
    const { text, checked } = todo;

    return (
        <div className='TodoListItem'>
            <div className={cn('checkbox', {checked})}>
                {checked ? <MdCheckBox /> : <MdCheckBoxOutlineBlank />}
                <div className='text'>{text}</div>
            </div>
            <div className='remove'>
                <MdRemoveCircleOutline />
            </div>
        </div>
    );
};

export default TodoListItem;
```

- ë§ˆì°¬ê°€ì§€ë¡œ `props.todo`ë¥¼ ì¸ìë¡œ ë°›ê³ , 
- todoë¥¼ êµ¬ì¡°ë¶„í•´í•˜ì—¬ textì™€ checkedë¥¼ ë°›ì•„ì˜¨ë‹¤.
- checkedê°€ trueë©´ `<MdCheckBox />`ë¥¼ ë Œë”ë§í•˜ê³ , falseë©´ `<MdRemoveCircleOutline />`ì„ ë Œë”ë§í•œë‹¤.
- todo.textë¥¼ ì•„ë˜ div.textì— ë Œë”ë§í•œë‹¤.

>- classnames ì„í¬íŠ¸
``` js
import cn from 'classnames';
```
- cní•¨ìˆ˜ ì‚¬ìš©
``` jsx
<div className={cn('checkbox', {checked})}>
```
cní•¨ìˆ˜ëŠ” ì¡°ê±´ì— ë”°ë¼ í´ë˜ìŠ¤ë¥¼ ë¶€ì—¬í•´ì¤„ ìˆ˜ ìˆë‹¤.
ìœ„ ì½”ë“œëŠ” **checkbox**ëŠ” ë¬´ì¡°ê±´ ê°–ê³ , checkedê°€ trueë©´ **checked**ë¼ëŠ” í´ë˜ìŠ¤ë„ ê°–ê²Œ í•œë‹¤.
![](https://velog.velcdn.com/images/thisisyjin/post/3a965855-8ff8-49dc-a482-9d9f5b2a6878/image.png)
- ì£¼ì˜ â—ï¸ 
ë°˜ë“œì‹œ cní•¨ìˆ˜ ì•ˆì—ì„œ í™•ì • í´ë˜ìŠ¤ëª…ì€ ' 'ì•ˆì—, ì¡°ê±´ì‹ì´ë‚˜ jsì½”ë“œëŠ” { }ì•ˆì— ì ì–´ì¤€ë‹¤.


### Result

![](https://velog.velcdn.com/images/thisisyjin/post/ef359e19-f630-442f-b079-1146d7e93918/image.png)


***


## í•­ëª© ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„

- TodoInsertë¥¼ ì´ìš©í•˜ì—¬ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡.
- stateì¸ `todos`ë°°ì—´ì— ìƒˆë¡œìš´ ê°ì²´ë¥¼ ì¶”ê°€í•˜ëŠ” ë¡œì§ êµ¬í˜„.


### TodoInsert

``` jsx
import { useState, useCallback } from 'react';
import { MdAdd } from 'react-icons/md';
import './TodoInsert.scss';

const TodoInsert = () => {
    const [value, setValue] = useState('');

    const onChangeInput = useCallback((e) => {
        setValue(e.target.value);
    }, []);

    return (
        <form className='TodoInsert'>
            <input placeholder='í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”' onChange={onChangeInput} value={value}/>
            <button type="submit">
                <MdAdd />
            </button>
        </form>
    );
};

export default TodoInsert;
```

- input íƒœê·¸ê°€ onChangeì‹œ ì‹¤í–‰ë˜ëŠ” onChangeInput í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³ , **useCallback**ìœ¼ë¡œ ê°ì‹¸ì¤€ë‹¤.
- í•¨ìˆ˜ ë‚´ì—ì„œ stateë¥¼ ì°¸ê³ í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•œë²ˆë§Œ ì €ì¥ë˜ë©´ ëœë‹¤. (ë¹ˆ ë°°ì—´[ ] ì„ ë„£ì–´ì¤€ë‹¤.)


- _**React Dev Tool**_ë¡œ TodoInsertë¥¼ ì‚´í´ë³´ë©´, inputì´ ë³€í•  ë•Œ ë§ˆë‹¤ stateê°€ ë‹¬ë¼ì§„ ê°’ì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

![](https://velog.velcdn.com/images/thisisyjin/post/39c2c3d8-0c95-41c6-ad32-fdade550461d/image.png)



### App.js (setTodos) - `useRef` ì´ìš©
``` jsx
import { useState, useRef, useCallback } from "react";
import TodoInsert from "./components/TodoInsert";
import TodoList from "./components/TodoList";
import TodoTemplate from "./components/TodoTemplate"

const App = () => {

  const [todos, setTodos] = useState([
    {
      id: 1,
      text: 'ë¦¬ì•¡íŠ¸ ê¸°ì´ˆ ì•Œì•„ë³´ê¸°',
      checked: true,
    },
    {
      id: 2,
      text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•´ë³´ê¸°',
      checked: true,
    },
    {
      id: 3,
      text: 'ì¼ì • ê´€ë¦¬ ì•± ë§Œë“¤ê¸°',
      checked: false,
    }
  ]);

  const nextId = useRef(4);

  const onInsert = useCallback((text) => {
    const todo = {
      id: nextId.current,
      text,
      checked: false,
    }
    setTodos(todos.concat(todo));
    nextId.current += 1;
  }, [todos]);

  return (
    <TodoTemplate>
      <TodoInsert onInsert={onInsert}/>
      <TodoList todos={todos}/>
    </TodoTemplate>
  );
}

export default App;
```
- useRefë¥¼ ì´ìš©í•˜ì—¬ (ë¡œì»¬ë³€ìˆ˜) indexë¥¼ ê´€ë¦¬í•¨. (todo ê°ì²´ì˜ idê°’)
- TodoInsertì— **onInsert**ë¼ëŠ” í•¨ìˆ˜ë¥¼ `props` ë¡œ ë„˜ê²¨ì¤Œ.
- onInsert í•¨ìˆ˜ë„ useCallbackìœ¼ë¡œ ê°ì‹¸ì£¼ê³ , ì´ í•¨ìˆ˜ëŠ” `todos`ë¼ëŠ” stateì— ì˜ì¡´í•˜ëŠ” í•¨ìˆ˜ì´ë¯€ë¡œ ë‘ë²ˆì§¸ ì¸ìë¡œ [todos]ë¥¼ ì ì–´ì¤Œ. 
+) Array.prototype.concatì€ ìƒˆ ë°°ì—´ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì„. (ë¶ˆë³€ì„±)


### TodoInsert (onSubmit)

``` jsx
import { useState, useCallback } from 'react';
import { MdAdd } from 'react-icons/md';
import './TodoInsert.scss';

const TodoInsert = ({onInsert}) => {
    const [value, setValue] = useState('');

    const onChangeInput = useCallback((e) => {
        setValue(e.target.value);
    }, []);

    const onSubmitForm = useCallback((e) => {
        onInsert(value);
        setValue('');

        e.preventDefault();
    }, [onInsert, value])

    return (
        <form className='TodoInsert' onSubmit={onSubmitForm}>
            <input placeholder='í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”' onChange={onChangeInput} value={value}/>
            <button type="submit">
                <MdAdd />
            </button>
        </form>
    );
};

export default TodoInsert;
```

- Form ì œì¶œì‹œ ë°œìƒí•˜ëŠ” onSubmitForm í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³ , useCallbackìœ¼ë¡œ ê°ì‹¸ì¤Œ. 
- ì´ í•¨ìˆ˜ëŠ” onInsert(`props`)ì™€ value(`state`)ì— ì˜ì¡´í•˜ë¯€ë¡œ, ë‘ë²ˆì§¸ ì¸ìë¡œ [onInsert, value]ì„ ì‘ì„±í•´ì¤Œ.

- form ì œì¶œì‹œ ë°œìƒí•˜ëŠ” ê¸°ë³¸ë™ì‘(=ìƒˆë¡œê³ ì¹¨)ì„ ë§‰ê¸° ìœ„í•´ `e.preventDefault`ë¥¼ í•´ì¤Œ.


***

## ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„

- ë°°ì—´ì˜ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ, ë°°ì—´ ì›ì†Œ ì œê±°ì‹œ -> `filter` ì„ ì´ìš©.
(ë°°ì—´ ì›ì†Œ ì¶”ê°€ì‹œì—ëŠ” concatì´ë‚˜ spread(...)ì´ìš©)


> Array.prototype.filter()
- ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” (=**trueì¸**) ëª¨ë“  ìš”ì†Œë“¤ì„ ëª¨ì•„ **ìƒˆ ë°°ì—´ë¡œ ë°˜í™˜**í•¨.
- ì›ë³¸ ë¶ˆë³€ì„±ì„ ì§€í‚´. 


### App.js (setTodos)
``` jsx
import { useState, useRef, useCallback } from "react";
import TodoInsert from "./components/TodoInsert";
import TodoList from "./components/TodoList";
import TodoTemplate from "./components/TodoTemplate"

const App = () => {

  const [todos, setTodos] = useState([
    {
      id: 1,
      text: 'ë¦¬ì•¡íŠ¸ ê¸°ì´ˆ ì•Œì•„ë³´ê¸°',
      checked: true,
    },
    {
      id: 2,
      text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•´ë³´ê¸°',
      checked: true,
    },
    {
      id: 3,
      text: 'ì¼ì • ê´€ë¦¬ ì•± ë§Œë“¤ê¸°',
      checked: false,
    }
  ]);

  const nextId = useRef(4);

  const onInsert = useCallback((text) => {
    const todo = {
      id: nextId.current,
      text,
      checked: false,
    }
    setTodos(todos.concat(todo));
    nextId.current += 1;
  }, [todos]);

  const onRemove = useCallback((id) => {
    setTodos(todos.filter(todo => todo.id !== id));
  }, [todos])

  return (
    <TodoTemplate>
      <TodoInsert onInsert={onInsert}/>
      <TodoList todos={todos} onRemove={onRemove}/>
    </TodoTemplate>
  );
}

export default App;
```

- onRemove í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ useCallbackìœ¼ë¡œ ê°ìŒˆ
- ë§ˆì°¬ê°€ì§€ë¡œ, todos(`state`)ì— ì˜ì¡´í•˜ë¯€ë¡œ ë‘ë²ˆì§¸ ì¸ìë¡œ [todos]ë¥¼ ì „ë‹¬í•´ì¤Œ.
- todo ê°ì²´ì˜ ìœ ì¼í•œ ê°’ì¸ idë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§í•¨.
- `todo.id`ì™€ ì¸ìë¡œ ë°›ì€ `id`ê°€ ì¼ì¹˜í•˜ë©´ - í•„í„°ë§ë˜ê²Œ. 
(ë”°ë¼ì„œ ì¡°ê±´ì—ëŠ” `!==`ë¥¼ ì ì–´ì¤˜ì•¼ ë‚˜ë¨¸ì§€ê°€ falseê°€ ë˜ì–´ ë°°ì—´ì˜ ìš”ì†Œë¡œ ë“¤ì–´ê°)
- TodoList ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•´ì£¼ê³ , TodoListëŠ” ê°ê°ì˜ TodoListItemì— onRemoveë¥¼ ë„˜ê²¨ì¤˜ì•¼í•¨.

``` jsx
<TodoListItem todo={todo} key={todo.id} onRemove={onRemove} />
```


### TodoListItem.js (onClick)

``` jsx
import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import cn from 'classnames';
import './TodoListItem.scss';


const TodoListItem = ({ todo, onRemove }) => {
    const { id, text, checked } = todo;

    return (
        <div className='TodoListItem'>
            <div className={cn('checkbox', {checked})}>
                {checked ? <MdCheckBox /> : <MdCheckBoxOutlineBlank />}
                <div className='text'>{text}</div>
            </div>
            <div className='remove' onClick={() => onRemove(id)}>
                <MdRemoveCircleOutline />
            </div>
        </div>
    );
};

export default TodoListItem;
```

- onRemove(id)ëŠ” idë¼ëŠ” ì¸ìê°€ ë“¤ì–´ê°€ë¯€ë¡œ, ê·¸ëƒ¥
`onClick={onRemove(id)}`ë¡œ ì‘ì„±í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
- ë°˜ë“œì‹œ í™”ì‚´í‘œí•¨ìˆ˜ì˜ ë¦¬í„´ê°’ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤˜ì•¼í•œë‹¤.
``` jsx
<div className='remove' onClick={() => onRemove(id)}>
```

### Result

![](https://velog.velcdn.com/images/thisisyjin/post/e31841f1-0db1-4296-a395-22b62e493e99/image.gif)


***

## ì²´í¬ ê¸°ëŠ¥ êµ¬í˜„

### App.js (setTodos)

``` jsx
import { useState, useRef, useCallback } from "react";
import TodoInsert from "./components/TodoInsert";
import TodoList from "./components/TodoList";
import TodoTemplate from "./components/TodoTemplate"

const App = () => {

  const [todos, setTodos] = useState([
    {
      id: 1,
      text: 'ë¦¬ì•¡íŠ¸ ê¸°ì´ˆ ì•Œì•„ë³´ê¸°',
      checked: true,
    },
    {
      id: 2,
      text: 'ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ë§ í•´ë³´ê¸°',
      checked: true,
    },
    {
      id: 3,
      text: 'ì¼ì • ê´€ë¦¬ ì•± ë§Œë“¤ê¸°',
      checked: false,
    }
  ]);

  const nextId = useRef(4);

  const onInsert = useCallback((text) => {
    const todo = {
      id: nextId.current,
      text,
      checked: false,
    }
    setTodos(todos.concat(todo));
    nextId.current += 1;
  }, [todos]);

  const onRemove = useCallback((id) => {
    setTodos(todos.filter(todo => todo.id !== id));
  }, [todos])

  const onToggle = useCallback((id) => {
    setTodos(todos.map(todo => todo.id === id? {...todo, checked: !todo.checked} : todo))
  }, [todos])

  return (
    <TodoTemplate>
      <TodoInsert onInsert={onInsert}/>
      <TodoList todos={todos} onRemove={onRemove} onToggle={onToggle}/>
    </TodoTemplate>
  );
}

export default App;
```

> #### onToggle ë¡œì§ 
- idê°€ ì¼ì¹˜í•˜ëŠ” todoë¥¼ ê³¨ë¼ì„œ todo.checkedë¥¼ í† ê¸€í•¨.
>
``` jsx
 const onToggle = useCallback((id) => {
    setTodos(todos.map(todo => todo.id === id? {...todo, checked: !todo.checked} : todo))
  }, [todos])
```

### TodoListItem
- ë§ˆì°¬ê°€ì§€ë¡œ TodoListì—ì„œ TodoListItemìœ¼ë¡œ `props`ë¡œ ë„˜ê²¨ì¤€ë‹¤.
- TodoListItemì—ì„œ propsë¡œ ê°€ì ¸ì˜¤ê³ , onClickì— ë„£ì–´ì¤€ë‹¤.

``` jsx
import {
    MdCheckBoxOutlineBlank,
    MdCheckBox,
    MdRemoveCircleOutline,
} from 'react-icons/md';
import cn from 'classnames';
import './TodoListItem.scss';


const TodoListItem = ({ todo, onRemove, onToggle }) => {
    const { id, text, checked } = todo;

    return (
        <div className='TodoListItem'>
            <div className={cn('checkbox', {checked})} onClick={() => onToggle(id)} >
                {checked ? <MdCheckBox /> : <MdCheckBoxOutlineBlank />}
                <div className='text'>{text}</div>
            </div>
            <div className='remove' onClick={() => onRemove(id)}>
                <MdRemoveCircleOutline />
            </div>
        </div>
    );
};

export default TodoListItem;
``` 
- ë°˜ë“œì‹œ **í™”ì‚´í‘œ í•¨ìˆ˜**ë¡œ `onClick={() => onToggle(id)}`ì™€ ê°™ì´ ì ì–´ì¤˜ì•¼í•œë‹¤.

***

### Final Result

![](https://velog.velcdn.com/images/thisisyjin/post/1d7e0917-1fdb-4cbe-8285-016089b6a8ac/image.gif)

**1. insert
2. delete
3. toggle 
**

- todosëŠ” Appì— ì¡´ì¬í•˜ëŠ” stateì´ë¯€ë¡œ, onInsert, onDelete, onToggle í•¨ìˆ˜ ëª¨ë‘ App.jsì— ì„ ì–¸í•´ì¤€ë‹¤.
- todosì˜ ìš”ì†Œì¸ todoë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ê²ƒì€ todo.id ì´ë‹¤.


- `todoList`ì—ì„œ todos.map( todo => ... )ì—ì„œ í´ë¦­í•œ ê²ƒì´ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì¸ì§€, idê°€ ë¬´ì—‡ì¸ì§€ ì•Œ ìˆ˜ ìˆë‹¤. (ì¤‘ê°„ë‹¤ë¦¬ ì—­í• )
- `todoListItem`ì—ì„œëŠ” ì§ì ‘ clickì´ ë°œìƒí•œë‹¤. (onClickì„ ì‹¤ì œë¡œ ë‹¬ì•„ì£¼ê³ , onDeleteê³¼ onToggleì„ ì¸ìì™€ í•¨ê»˜ ë„£ì–´ì¤Œ)

 
 ***
 
 
 > ### KEY POINT
> 1. todos (`state`)ëŠ” App.jsì—ì„œ ê´€ë¦¬ - useState(ì´ˆê¸°ê°’)
> 2. onInsert, onRemove, onToggleí•¨ìˆ˜ ì •ì˜ë„ App.jsì—ì„œ.
> -> ì „ë¶€ Appì˜ stateì¸ **todos**ë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸.
> 3. TodoInsertì—ëŠ” onInsertë¥¼,
> TodoListì—ëŠ” (->TodoListItem) onRemove, onToggleì„ `props`ë¡œ ë„˜ê¹€
> 4. TodoInsertëŠ” onChangeInputê³¼ onSubmitFormì´ ì¡´ì¬.
> 5. TodoInsertëŠ” `value`ë¼ëŠ” stateê°€ ì¡´ì¬. = Inputì˜ value
> onSubmitFormì€ onInsertí•¨ìˆ˜ì™€ valueì— ì˜ì¡´í•¨.
> 6. TodoListëŠ” todos.map(todo => ...)í•˜ì—¬ ê° ìš”ì†Œë“¤ì„ TodoListItemìœ¼ë¡œ ë Œë”ë§í•¨.
> -> todo, onToggleì„ `props`ë¡œ ë„˜ê¹€. (todoëŠ” ìê¸° ìì‹ , ì¦‰ todosì˜ ê° ìš”ì†Œ. = ê°ì²´ ìì²´)
> 7. TodoListItem ì—ì„œëŠ” classnameë¥¼ ì‚¬ìš©í•˜ì—¬ todo.checked ì—¬ë¶€ì— ë”°ë¼ í´ë˜ìŠ¤ëª… ë¶€ì—¬
> 8. todo.id, todo.text, todo.checkedë¥¼ ì´ìš©í•˜ì—¬ ë Œë”ë§.
> 9. `div.checkbox` í´ë¦­ì‹œ - onToggle(id)
> 10. `div.remove` í´ë¦­ì‹œ - onRemove(id)
