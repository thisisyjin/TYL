# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**React.js Lecture**](https://www.youtube.com/watch?v=KDJNjLZrqJk&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)



***  


>  ### **React Lecture CH 5**
1 - ë¼ì´í”„ì‚¬ì´í´
2 - setIntervalê³¼ ë¼ì´í”„ì‚¬ì´í´ ì—°ë™
3 - ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„
4 - ê³ ì°¨í•¨ìˆ˜ (Higher-order Func)
5 - useEffect
6 - í´ë˜ìŠ¤ vs Hooks ë¼ì´í”„ì‚¬ì´í´ ë¹„êµ


## ë¼ì´í”„ì‚¬ì´í´



- ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ ì œì‘
-> setIntervalê³¼ clearInterval ì´ìš©


### ì´ˆê¸° ì½”ë“œ ì‘ì„±

``` jsx
import React, { Component } from React;

class RSP extends Component {

    state = {
        result: '',
        score: 0,
        imgCoord: 0
    };

    render() {
        const { result, score, imgCoord } = this.state;
        return (
            <>
      <div id="computer" style={{ background: `url(https://en.pimg.jp/023/182/267/1/23182267.jpg) ${imgCoord} 0` }} />
      <div>
        <button id="rock" className="btn" onClick={onClickBtn('ë°”ìœ„')}>ë°”ìœ„</button>
        <button id="scissor" className="btn" onClick={onClickBtn('ê°€ìœ„')}>ê°€ìœ„</button>
        <button id="paper" className="btn" onClick={onClickBtn('ë³´')}>ë³´</button>
                </div>
                <div>{result}</div>
                <div>í˜„ì¬ {score}ì </div>
    </>
            
        );
    }
}
```

ìœ„ div#computerì˜ background ì´ë¯¸ì§€ë¥¼ ì¤˜ì„œ
ê°€ìœ„/ë°”ìœ„/ë³´ ì´ë¯¸ì§€ê°€ ì°¨ë¡€ë¡œ ë‚˜ì˜¤ë„ë¡ í•œë‹¤.
- ë‹¨, background imageì˜ srcëŠ” ìŠ¤í”„ë¼ì´íŠ¸ ì´ë¯¸ì§€ì´ë‹¤.
![](https://velog.velcdn.com/images/thisisyjin/post/e686ef89-8be2-4020-bfd8-6b648aee87d0/image.png)
- ë”°ë¼ì„œ, í•´ë‹¹ JSX ìš”ì†Œì— style ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ background-positionì„ ì¡°ì •í•˜ì—¬ ì˜ë¼ë‚´ì„œ ì‚¬ìš©.
-> ì¶•ì•½í˜•ì¸ background ì—ì„œ ë‘ë²ˆì§¸ í•­ëª©.

> **ğŸ“Œ ì´ë¯¸ì§€ ìŠ¤í”„ë¼ì´íŠ¸ (image sprite)**
- ì—¬ëŸ¬ê°œì˜ ì´ë¯¸ì§€ê°€ í¬í•¨ëœ í•˜ë‚˜ì˜ ì´ë¯¸ì§€.
- ì‚¬ìš©í• ë•ŒëŠ” ì¼ë¶€ë§Œ ì¶”ì¶œ. 
(background-position ì†ì„±ìœ¼ë¡œ)




<br>

#### componentDidMount()

ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ì´ **ì²˜ìŒ ë Œë”ë§ ë˜ìë§ˆì ì‹¤í–‰**ë˜ë„ë¡ í•˜ë ¤ê³  í•œë‹¤.
ğŸ”»
lifeCycle methodì¸ **`componentDidMount()`**ë¥¼ ì‚¬ìš©í•˜ì.
-> **ì²« ë Œë”ë§ì‹œ**ì—ë§Œ ì‹¤í–‰ëœë‹¤. (ë¦¬ë Œë”ë§ì‹œ ì‹¤í–‰ë˜ì§€ âŒ)


> **ì°¸ê³ ** - ì§€ë‚œë²ˆì— ë°°ìš´ lifeCycle Method
>
[shouldComponentUpdate](https://velog.io/@thisisyjin/TIL-22-04-05-3#react%EC%9D%98-rendering-%EC%9B%90%EB%A6%AC) 
-> ë¦¬ë Œë”ë§ ì—¬ë¶€ ê²°ì • (true/false)


#### componentDidUpdate()
- ë¦¬ë Œë”ë§ì‹œ. (setStateë‚˜ props ë³€ê²½ ë“± ë³€ê²½ì‚¬í•­ì´ ìˆì„ë•Œ)


#### componentWillUnmount()

- ë³´í†µì€ componentDidMountì™€ componentWillUnmountê°€ ìŒìœ¼ë¡œ ì“°ì¸ë‹¤.
(= componentDidMountì—ì„œ ì„¤ì •í•œ ê²ƒì„ í•´ì œí•´ì¤Œ)

| componentDidMount | componentWillUnmount |
| : -- : | : -- : |
| ì»´í¬ë„ŒíŠ¸ê°€ ì²« ë Œë”ë§ ëœ í›„. <br> ì£¼ë¡œ **ë¹„ë™ê¸° ìš”ì²­**ì„ í•¨. | ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ê¸° ì§ì „. <br> (ë¶€ëª¨ì»´í¬ë„ŒíŠ¸ê°€ ìì‹ ì„ ì—†ì•´ì„ ë•Œ) <br> ë¹„ë™ê¸° ìš”ì²­ ì •ë¦¬. |


ì˜ˆ>
 ì»´í¬ë„ŒíŠ¸ê°€ ì œê±°ë˜ì—ˆì§€ë§Œ, setInterval() ì¦‰ ë¹„ë™ê¸°ìš”ì²­ì€ ì œê±°ë˜ì§€ ì•ŠìŒ. 
 -> componentWillUnmount()ì—ì„œ ì œê±°í•´ì•¼í•¨.
``` jsx
componentDidMount() {
  setInterval(() => {
  console.log('hello');
  }, 1000);
}

componentWillUnmount() {
  // ì—¬ê¸°ì„œ clearInterval() í•´ì¤˜ì•¼í•¨.
}
```

EX>
``` jsx
class RSP extends Component {
    state = {
        result: '',
        score: 0,
        imgCoord: 0
    };

    interval;

    componentDidMount() {
        this.interval = setInterval(() => {
            console.log('hello')
        }, 1000);
    }

    componentWillUnmount() {
        clearInterval(this.interval); // ë¹„ë™ê¸° ë™ì‘ ì •ë¦¬í•¨
    }
```



___

### ì½”ë“œ ì‘ì„± - setInterval

RSP.jsx

``` jsx
import React, { Component } from 'react';

const rspCoords = {
  ê°€ìœ„: '0',
  ë°”ìœ„: '-142px',
  ë³´: '-284px',
};

const scores = {
  ì´ê¹€: 1,
  ë¹„ê¹€: 0,
  ì§: -1,
};

class RSP extends Component {
  state = {
    result: '',
    score: 0,
    imgCoord: '0',
  };

  interval;

  componentDidMount() {
    this.interval = setInterval(() => {
      const { imgCoord } = this.state;
      if (imgCoord === rspCoords.ë°”ìœ„) {
        this.setState({
          imgCoord: rspCoords.ê°€ìœ„,
        });
      } else if (imgCoord === rspCoords.ê°€ìœ„) {
        this.setState({
          imgCoord: rspCoords.ë³´,
        });
      } else if (imgCoord === rspCoords.ë³´) {
        this.setState({
          imgCoord: rspCoords.ë°”ìœ„,
        });
      }
    }, 1000);
  }

  onClickBtn = (choice) => {};

  render() {
    const { result, score, imgCoord } = this.state;
    return (
      <>
        <div
          id="computer"
          style={{
            background: `url(https://en.pimg.jp/023/182/267/1/23182267.jpg) ${imgCoord} 0`,
          }}
        />
        <div>
          <button id="rock" className="btn" onClick={this.onClickBtn('ë°”ìœ„')}>
            ë°”ìœ„
          </button>
          <button
            id="scissor"
            className="btn"
            onClick={this.onClickBtn('ê°€ìœ„')}
          >
            ê°€ìœ„
          </button>
          <button id="paper" className="btn" onClick={this.onClickBtn('ë³´')}>
            ë³´
          </button>
        </div>
        <div>{result}</div>
        <div>í˜„ì¬ {score}ì </div>
      </>
    );
  }
}

export default RSP;
```

> ì£¼ì˜
- ë¹„ë™ê¸° í•¨ìˆ˜ ë°”ê¹¥ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°ì‹œ **í´ë¡œì €ê°€ ë°œìƒ**í•œë‹¤!

``` jsx
componentDidMount() {
    this.interval = setInterval(() => {
      const { imgCoord } = this.state;  // ğŸ‘ˆ ì´ë¶€ë¶„ì„ setInterval()ì˜ ì½œë°± ì•ˆì— ë„£ì–´ì¤˜ì•¼í•¨!!!
      if (imgCoord === rspCoords.ë°”ìœ„) {
        this.setState({
          imgCoord: rspCoords.ê°€ìœ„,
        });
```


![](https://velog.velcdn.com/images/thisisyjin/post/60014e7c-d91b-4105-b6ff-8349f8e7f4c6/image.gif)

- 1ì´ˆë§ˆë‹¤ ì´ë¯¸ì§€ê°€ ë³€ê²½ëœë‹¤.
- componentWillUnmountì—ì„œ clearInterval í•´ì£¼ê¸°.
``` jsx
  componentWillUnmount() {
    clearInterval(this.interval);
  }
```
