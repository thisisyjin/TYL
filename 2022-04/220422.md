# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**React.js Lecture**](https://www.youtube.com/watch?v=KDJNjLZrqJk&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)

***

>  ### **React Lecture CH 9**
1 -  React Router
2 - Link, BrowserRouter
3 - Hash Router, params, withRouter
4 - location, match, history
5 -  ì¿¼ë¦¬ìŠ¤íŠ¸ë§, URLSearchParams
6 - render props, switch, exact


SPA í”„ë ˆì„ì›Œí¬ì¸ Reactì—ì„œëŠ” í˜ì´ì§€ê°€ í•˜ë‚˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì—¬ëŸ¬ê°œì¸ ëˆˆì†ì„ì„ ìœ„í•´ `React-Router`ê°€ í•„ìš”í•˜ë‹¤.


- ìš°ì„ , í„°ë¯¸ë„ì—ì„œ npm install(ë˜ëŠ” yarn add)ë¡œ 
`react-router`ê³¼ `reaact-router-dom`ì„ ì„¤ì¹˜í•œë‹¤.
``` bash
npm i react-router react-router-dom
```

- react-routerëŠ” ê·¸ì € ë¼ˆëŒ€ì´ê³ , `react-router-dom`ì´ ìˆì–´ì•¼ **ì›¹ì—ì„œ ë™ì‘**í•  ìˆ˜ ìˆë‹¤.
(ë§Œì•½ ì•±ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´? `react-router-native`ë¥¼ ì„¤ì¹˜)

- ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ react-router-domì´ê³ ,
react-routerì€ react-router-domê°€ ë‚´ë¶€ì ìœ¼ë¡œ í•„ìš”ë¡œ í•˜ëŠ” ê²ƒ.

<br>

## BrowserRouter

ì§€ê¸ˆê» ë§Œë“¤ì—ˆë˜ ê²Œì„ë“¤ì„ í•œ í˜ì´ì§€ë¡œ êµ¬í˜„í•´ë³´ì.


**Games.jsx**

``` jsx
import React from 'react';
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';
import BullsAndCows from './BullsAndCows';
import RSP from './RSP';
import Lotto from './Lotto';

const Games = () => {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/number-baseball" element={<BullsAndCows />} />
        <Route path="/rock-scissors-paper" element={<RSP />} />
        <Route path="/lotto-generator" element={<Lotto />} />
      </Routes>
    </BrowserRouter>
  );
};

export default Games;

```
### Routes > Route

- ìš°ì„ , BrowserRouterë¡œ ì „ì²´ë¥¼ ê°ì‹¸ì¤€ë‹¤.
(BrowserRouter ì•„ë‹ˆë©´ HashRouterì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.)
- `Route path='' component={}`ì˜ í˜•íƒœë¡œ ì‘ì„±í•´ì£¼ëŠ”ë°,
Routeë“¤ì€ Routesë¡œ ê°ì‹¸ì ¸ì•¼í•œë‹¤.


- pathì—ëŠ” ê°€ìƒì˜ ì£¼ì†Œë¥¼ ì ì–´ì¤€ë‹¤.
- ì§€ê¸ˆì€ ë„ë©”ì¸ì´ ì—†ìœ¼ë¯€ë¡œ, localhost:8080/number-baseballê³¼ ê°™ì€ ì£¼ì†Œê°€ ëœë‹¤.


- í˜ì´ì§€ê°€ ì—¬ëŸ¬ê°œ ìˆëŠ” ê²ƒì´ ì•„ë‹Œ, ì—¬ëŸ¬ê°œ ìˆëŠ” ì²™ì„ í•˜ëŠ” ê²ƒ.
(í˜ì´ì§€ê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ì§€ ì•Šê³ , ê°€ìƒìœ¼ë¡œ ë§Œë“¤ì–´ë‚¸ í˜ì´ì§€ì„)


<br>

### Link 

ì´ì œ, aíƒœê·¸ë¡œ í•´ë‹¹ ì£¼ì†Œë¡œ ì´ë™í•˜ë„ë¡ ë§Œë“¤ì–´ë³´ì.
ë‹¨, ë³´í†µì˜ `a href=""` ë¡œ ì‘ì„±í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

-> react-router-domì˜ `Link`ë¥¼ ì‚¬ìš©í•œë‹¤.

``` jsx
<Link to="/sub-page" element={<Sub />}>Text</Link>
```

-> Dev Toolì˜ Element íƒ­ì„ ë³´ë©´, ì´ëŠ” `a`íƒœê·¸ë¡œ ë‚˜ì™€ìˆë‹¤.


<br>

### Result

![](https://velog.velcdn.com/images/thisisyjin/post/6cdb83b0-5535-47b9-a0b6-3a8af052433e/image.gif)

- Routes ë°”ê¹¥ì— ìˆëŠ” ë¶€ë¶„ì€ (Linkë“¤) ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.
- ë¶„ëª… í•˜ë‚˜ì˜ í˜ì´ì§€ì§€ë§Œ, ë§ˆì¹˜ ì—¬ëŸ¬ í˜ì´ì§€ê°€ ìˆëŠ” ê²ƒ ì²˜ëŸ¼ ë™ì‘í•¨.
-> ì´ë•Œ, ì£¼ì†ŒëŠ” ë°”ë€Œê²Œ ë¨. (ê°€ìƒì˜ ì£¼ì†Œì„)

> /number-baseballê³¼ ê°™ì€ pathëŠ” ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ, ì£¼ì†Œì°½ì— ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜ ìƒˆë¡œê³ ì¹¨ì‹œ `Cannot GET /number-baseball ì´ë¼ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•¨.
-> ì£¼ì†Œì°½ì— ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜ ìƒˆë¡œê³ ì¹¨ í•˜ëŠ” ê²ƒì€, ì„œë²„ì¸¡ì— ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì„.
-> Linkë¥¼ í†µí•´ì„œë§Œ ì´ë™ ê°€ëŠ¥.(=**í”„ë¡ íŠ¸ì—”ë“œì—ì„œë§Œ ë™ì‘**í•¨)



***

## HashRouter


ìœ„ Games.jsx ì½”ë“œì—ì„œ BrowserRouterì„ HashRouterë¡œ ë°”ê¿”ë³¸ë‹¤.

``` jsx
import React from 'react';
import { HashRouter, Routes, Route, Link } from 'react-router-dom';
import BullsAndCows from './BullsAndCows';
import RSP from './RSP';
import Lotto from './Lotto';

const Games = () => {
  return (
    <HashRouter>
      <Link to="/number-baseball">ìˆ«ìì•¼êµ¬</Link>
      &nbsp;
      <Link to="rock-scissors-paper">ê°€ìœ„ë°”ìœ„ë³´</Link>
      &nbsp;
      <Link to="/lotto-generator">ë¡œë˜ìƒì„±ê¸°</Link>
      <Routes>
        <Route path="/number-baseball" element={<BullsAndCows />} />
        <Route path="/rock-scissors-paper" element={<RSP />} />
        <Route path="/lotto-generator" element={<Lotto />} />
      </Routes>
    </HashRouter>
  );
};

export default Games;
```

`http://localhost:8080/#/number-baseball`
ì´ëŸ°ì‹ìœ¼ë¡œ path ì•ì— í•´ì‹œ(#)ê°€ ë¶™ê²Œ ëœë‹¤.

ë™ì‘ìƒ í° ì°¨ì´ëŠ” ì—†ì§€ë§Œ, ìƒˆë¡œê³ ì¹¨ì„ í•´ë„ í™”ë©´ì´ ì •ìƒì ìœ¼ë¡œ ë³´ì¸ë‹¤.
(`BrowserRouter`ì—ì„œëŠ” ìƒˆë¡œê³ ì¹¨ì‹œ ì„œë²„ì— ìš”ì²­ì„ í•˜ê²Œ ë˜ê³ , ì‹¤ì œ í˜ì´ì§€ê°€ ì•„ë‹ˆë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì—ˆë‹¤.)

> HashRouterì—ì„œëŠ” ìƒˆë¡œê³ ì¹¨ì‹œì—ë„ ì—ëŸ¬ì—†ì´ ë™ì‘í•œë‹¤.
URLì—ì„œ í•´ì‹œ(#) ë’¤ ë¶€ë¶„ì€ ë¸Œë¼ìš°ì €ë§Œ ì•Œê³  ìˆëŠ” ë¶€ë¶„.
-> ì„œë²„ëŠ” **í•´ì‹œ(#) ë’¤ ë¶€ë¶„ì„ ì¸ì‹í•˜ì§€ ëª»í•¨.**
ë”°ë¼ì„œ, ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê³  ì •ìƒ ì‘ë™.
>
â—ï¸ ì„œë²„ì—ì„  ì¸ì‹í•˜ì§€ ëª»í•˜ë¯€ë¡œ, SEO(search engine optimizing)ì— ì í•©í•˜ì§€ ì•Šë‹¤. 
-> í•´ì‹œë¼ìš°í„°ëŠ” ì‹¤ë¬´ì—ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ.
(** BrowserRouterë„ SEOë¥¼ ìœ„í•´ì„œëŠ” ì¶”ê°€ì‘ì—… í•„ìš”í•˜ê¸´ í•¨)


** ì„œë²„ ì„¸íŒ… **

- SEOë¥¼ ìœ„í•´ì„œëŠ” ì„œë²„ìª½ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.
- BrowserRouterì—ì„œ ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ë°,
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê° pathë¥¼ ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤.



***

## ë™ì  ë¼ìš°íŒ…

- `<Route>`ë“¤ì´ ê³„ì†í•´ì„œ ë§ì•„ì§€ê²Œ ëœë‹¤ë©´?
- ë™ì  ë¼ìš°íŠ¸ ë§¤ì¹­ì´ í•„ìš”í•˜ë‹¤.
	

- GameMatcher ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•œë‹¤.

GameMatcher.jsx
``` jsx
import React, { Component } from 'react';

export default class GameMatcher extends Component {
  render() {
    return <div>ê²Œì„ ë§¤ì³</div>;
  }
}
```

- Paramsë¥¼ ì´ìš©í•œ ë™ì  Routeë¥¼ ì¶”ê°€í•œë‹¤.

Games.jsx

``` jsx
<Route path="/game/:name" element={<GameMatcher />} />

```
- `:name`ì€ ì‹¤ì œë¡œ nameì´ ì•„ë‹Œ `params`ë¼ê³  í•œë‹¤. (=íŒŒë¼ë¯¸í„°)
- paramsëŠ” number-baseballì´ ë ìˆ˜ë„ ìˆê³ , lotto-generatorì´ ë ìˆ˜ë„ ìˆë‹¤. (=ë™ì ìœ¼ë¡œ ë°”ë€œ)


``` jsx
<Link to="/game/index">ê²Œì„ ë§¤ì³</Link>
```
paramsë¥¼ ì„ì˜ë¡œ indexë¼ê³  ì •í•˜ì—¬ Linkë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

![](https://velog.velcdn.com/images/thisisyjin/post/3159f531-80eb-406a-aafb-7d1230724d12/image.png)

- ê²Œì„ë§¤ì³ Link(=aíƒœê·¸) í´ë¦­ì‹œ, GameMatcher ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ìš©ì´ ë Œë”ë§ëœë‹¤.




``` jsx
<Link to="/game/number-baseball">ìˆ«ìì•¼êµ¬</Link>
<Link to="/game/rock-scissors-paper">ê°€ìœ„ë°”ìœ„ë³´</Link>
<Link to="/game/lotto-generator">ë¡œë˜ìƒì„±ê¸°</Link>
```


- ê¸°ì¡´ Linkì—ë„ ì•ì— `/game/`ì„ ë¶™ì—¬ì¤€ë‹¤.
number-baseball, rock-scissors-paper, lotto-generatorëŠ” ëª¨ë‘ nameì´ë¼ëŠ” `params`ê°€ ëœë‹¤.

``` jsx
<Routes>
   <Route path="/game/:name" element={<GameMatcher />} />
 </Routes>
```
- ì´ ì„¸ê°œì˜€ë˜ Routeë¥¼ í•˜ë‚˜ë¡œ ì¤„ì¼ ìˆ˜ ìˆë‹¤!


<br>

GameMatcher.jsx

``` jsx
import React, { Component } from 'react';

export default class GameMatcher extends Component {
  render() {
    console.log(this.props);
    return <div>ê²Œì„ ë§¤ì³</div>;
  }
}
```
- GameMatcher ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `this.props`ì— ì €ì¥ë˜ì–´ ìˆë‹¤.

- ì»´í¬ë„ŒíŠ¸ ë¶„ê¸°.
``` jsx
render() {
  if (this.props.match.params.name === 'number-baseball') {
    return <NumberBaseball />
  } else if (this.props.match.params.name === 'rock-scissors-paper') {
    return <RSP />
  } else {
    return <Lotto />
  }
}
```


<center>* * *</center>

> ê°•ì˜ ë‚´ìš©ì´ React Router 6 ì´ì „ ë²„ì „ì¸ ê²ƒ ê°™ì•„ì„œ
ì´í›„ ë‚´ìš©ë“¤ì€ ë”°ë¡œ ê¸°ë¡í•˜ì§€ ì•Šê³ , [ê³µì‹ ë¬¸ì„œ](https://reactrouter.com/docs/en/v6/getting-started/overview) ë¡œ ëŒ€ì²´í•˜ë„ë¡ í•¨.
