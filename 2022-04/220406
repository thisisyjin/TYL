# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**React.js Lecture**](https://www.youtube.com/watch?v=KDJNjLZrqJk&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn&index=18)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)



***   

### React.createRef()

- í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ focusë¥¼ ìœ„í•œ `ref`ë¥¼ ì„¤ì •í•´ì¤„ ë•Œ, ìš°ë¦¬ëŠ” ì½œë°±ì— ì „ë‹¬í•´ì£¼ëŠ” ì‹ìœ¼ë¡œ í•´ì¤¬ë‹¤.

ì˜ˆ>

``` jsx
//  JSX
return(
  <input ref={this.onInputRef} />
  )
```


``` jsx
class Test extends Component {
  ... 
  onFormSubmit = (e) => {
    // ë‚´ìš©
    this.inputRef.focus()
  }
  
  inputRef;
  
  onInputRef = (el) => {this.inputRef = el};
}
```
- inputRefë¼ëŠ” ë¹ˆ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , (ì´ˆê¸°ê°’ null ì¤˜ë„ OK)
- JSXì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ refì— `onInputRef`ë¥¼ ì „ë‹¬í•´ì„œ ì¸ìˆ˜ë¡œ ë°›ì€ elì„ this.inputRefì— í• ë‹¹í•œë‹¤.
- í¬ì»¤ìŠ¤ë¥¼ ì£¼ê³ ì‹¶ì€ ê³³ì— (ì—¬ê¸°ì„  onFormSubmit)
this.inputRef.focus()ë¥¼ í•´ì¤€ë‹¤.



+) ì°¸ê³  - Hookì—ì„œëŠ” `useRef`ë¥¼ ì´ìš©í•œë‹¤.

``` jsx
// inputRef ì„ ì–¸
let inputRef = useRef(null);

// JSX
return (
  <input ref={inputRef} />
  );

// ì‚¬ìš©ì‹œ - current ë¶™ì—¬ì¤˜ì•¼í•¨.
inputRef.current.focus();
```

<br>

- í´ë˜ìŠ¤ì—ì„œë„ hooksì—ì„œ ë¹„ìŠ·í•˜ê²Œ refë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!
-> `React.createRef()` ì´ìš©


``` jsx
// inputRef ì„ ì–¸ (í´ë˜ìŠ¤ ëª¸ì²´ ë‚´)
inputRef = createRef();


// JSX
return (
  <input ref={this.inputRef} />
  );

// ì‚¬ìš©ì‹œ - â—ï¸ current ë¶™ì—¬ì¤˜ì•¼í•¨ 
this.inputRef.current.focus()

```

> ğŸ’¬ ì°¸ê³  
>
> í•¨ìˆ˜ë¥¼ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜ (í•¨ìˆ˜ ì•ˆì— í•¨ìˆ˜ë¥¼ ë„£ìŒ) = ì»¤ë§
> setState()ë„ í•¨ìˆ˜í˜•ìœ¼ë¡œ ì‘ì„±í•˜ë©´, 'í•¨ìˆ˜'ì´ë‹¤ë³´ë‹ˆ 
> ê·¸ ì•ˆì— ë‹¤ë¥¸ ë™ì‘ì„ ì¶”ê°€ë¡œ ë„£ì„ìˆ˜ë„ ìˆë‹¤.
> ì´ë¥¼ `í•˜ì´ì–´ì˜¤ë” ì»´í¬ë„ŒíŠ¸` ë¼ê³  í•œë‹¤.


***


## ê·¸ ì™¸ ì£¼ì˜í• ì 

### render(){} ì•ˆì—ì„œ this.setState() ì‚¬ìš©ì€ âŒ

-> ì›ë˜ this.setState()ê°€ ì‹¤í–‰ë˜ë©´ render()ê°€ ì‹¤í–‰ëœë‹¤. 
-> render()ì•ˆì— setState()ê°€ ë˜ ì‹¤í–‰ë˜ê³  ë‹¤ì‹œ render()
-> ë¬´í•œ ë°˜ë³µ. 

<br>


### ë¶€ëª¨ë¡œë¶€í„° ë°›ì€ propsëŠ” ì§ì ‘ ë³€ê²½í•  ìˆ˜ âŒ 

ì˜ˆ> Try.jsx

``` jsx
import React, { memo } from "react";

const Try = memo(({ tryInfo, index }) => {
  tryInfo.try = 'hello';  // âŒ ë³€ê²½ ë¶ˆê°€ 
  
  return (
    <li key={`${index}ì°¨ ì‹œë„:`}>
      {tryInfo.try} : {tryInfo.result}
    </li>
  );
});

export default Try;
```

- `props`ëŠ” ë¶€ëª¨ê°€ ë°”ê¿”ì•¼í•¨. ìì‹ì´ ì§ì ‘ ë°”ê¿”ì„  X
- í•˜ì§€ë§Œ, ë“œë¬¼ê²Œ propsë¥¼ ì§ì ‘ ë°”ê¿”ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ëŸ´ë•ŒëŠ” propsë¥¼ `state`ë¡œ ë„£ì–´ì¤€ë‹¤.


<center>ğŸ”»</center>


###  ë¶€ëª¨ë¡œ ë°›ì€ propsë¥¼ ë°”ë¡œ stateë¡œ ë„£ê¸°

 
``` jsx
import React, { memo, useState } from "react";

const Try = memo(({ tryInfo, index }) => {
  const [result, setResult] = useState(tryInfo.result);
  
  const onClick = () => {
    setResult('hello');
  }
  
  return (
    <li key={`${index}ì°¨ ì‹œë„:`}>
      {tryInfo.try} : <span onClick={onClick}> {result} </span>
    </li>
  );
});

export default Try;
```


- propsëŠ” ìœ„ì™€ ê°™ì´ ì§ì ‘ ë°”ê¾¸ì§€ ë§ê³ ,
stateë¡œ ë“±ë¡ í›„ì— setStateí•¨ìˆ˜ë¡œ ë°”ê¾¼ë‹¤.
- ì°¸ê³ ë¡œ, onClickì‹œ ë°”ë€Œë„ë¡ ì´ë²¤íŠ¸ í”„ë¡œí¼í‹°ë¥¼ ë‹¬ì•„ì¤¬ë‹¤.
-> ê·¸ë˜ì•¼ **ë¶€ëª¨ì—ê²Œ ì˜í–¥ì„ ë¼ì¹˜ì§€ X.**



+) í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ë§ˆì°¬ê°€ì§€ë¡œ.
``` jsx
class Try extends PureComponent {
  state = {
    result: this.props.tryInfo.result,
  };

  render() {
    const {tryInfo} = this.props;
    return (
      <li>
        {tryInfo.try} : <span>{this.state.result}</span>
      </li>
    )
}
```

++) constructorì´ ì“°ì´ëŠ” í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ”
``` jsx
class Try extends PureComponent {
  constructor(props) {
    super(props);
    // ë‹¤ë¥¸ ë™ì‘ ì¶”ê°€ ê°€ëŠ¥
    const filtered = this.props.filter(() => {})
    
    this.state = {
    result: filtered, // ì—¬ê¸° ë„£ì–´ì¤„ìˆ˜ ìˆìŒ
  };
}

  render() {
    const {tryInfo} = this.props;
    return (
      <li>
        {tryInfo.try} : <span>{this.state.result}</span>
      </li>
    )
}
```

- constructorì€ ì•ˆì¨ë„ ë˜ì§€ë§Œ, 'í•¨ìˆ˜' ì´ë‹¤ë³´ë‹ˆ ë‚´ë¶€ì— ë‹¤ë¥¸ ë™ì‘(ì½”ë“œ)ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
-> ì •êµí•œ ë™ì‘ì„ í•  ë•Œ ì‚¬ìš©.
(setState()ì˜ í•¨ìˆ˜í˜•ê³¼ ref(ì½œë°±ì „ë‹¬ì‹œ)ë„ ë§ˆì°¬ê°€ì§€ì„.)

***

- ë¯¸ë¦¬ ì•Œì•„ë³´ëŠ” **context API**

ì»´í¬ë„ŒíŠ¸ Aì—ì„œ Fê¹Œì§€ Aì˜ propsë¥¼ ì „ë‹¬í•˜ë ¤ í• ë•Œ,
A->B->C->D->E->F ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤ë©´
B~Eê¹Œì§€ propsê°€ ì“¸ë°ì—†ì´ ì „ë‹¬ëœë‹¤.
-> propsê°€ ì „ë‹¬ë˜ë©´? ë Œë”ë§ì´ ë  ìœ„í—˜ì„± O.

-> Aì—ì„œ Fë¡œ ë°”ë¡œ propsë¥¼ ì „ë‹¬ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì¸
`context`ë¥¼ ì´ìš©í•˜ì.

> ì°¸ê³  : `context`ë¥¼ ì´ìš©í•œ ê²ƒì´ `Redux`ì´ë‹¤!



