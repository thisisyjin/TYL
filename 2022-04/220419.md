# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**React.js Lecture**](https://www.youtube.com/watch?v=KDJNjLZrqJk&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)



***  


>  ### **React Lecture CH 7**
1 - useReducer
2 -reducer, action, dispatch
3 - action ë§Œë“¤ì–´ dispatch
4 - í‹±íƒí†  ê²Œì„ 
5 - í…Œì´ë¸” ìµœì í™”


## useReducer
- `Redux` ì˜ í•µì‹¬ ê°œë…ì„ ë„ì…í•¨.
- ì†Œê·œëª¨ ì•±ì—ì„œëŠ” Reduxë¥¼ ì“°ì§€ ì•Šê³ , context APIì™€ useReducerë§Œìœ¼ë¡œ ì–´ëŠì •ë„ëŠ” ì‚¬ìš© ê°€ëŠ¥.



### í‹±íƒí† (Tic-Tac-Toe) ì´ˆê¸° ì½”ë“œ


TicTacToe.jsx
``` jsx
import React, { useState, useReducer } from 'react';
import Table from './Table';

const TicTacToe = () => {
  const [winner, setWinner] = useState('');
  const [turn, setTurn] = useState('O');
  const [tableData, setTableData] = useState([
    ['', '', ''],
    ['', '', ''],
    ['', '', ''],
  ]);

  return (
    <>
      <Table />
      {winner && <div>{winner}ë‹˜ì˜ ìŠ¹ë¦¬!</div>}
    </>
  );
};

export default TicTacToe;
```

Td.jsx
``` jsx
import React from 'react';

const Td = () => {
  return <td>{''}</td>;
};

export default Td;
```


Tr.jsx
``` jsx
import React from 'react';
import Td from './Td';

const Tr = () => {
  return (
    <tr>
      <Td>{''}</Td>
    </tr>
  );
};

export default Tr;

```


Table.jsx
``` jsx
import React from 'react';
import Tr from './Tr';

const Table = () => {
  return (
    <table>
      <Tr>{''}</Tr>
    </table>
  );
};

export default Table;

```

ì „ì²´ì ì¸ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

tdíƒœê·¸(ì¦‰ Tdì»´í¬ë„ŒíŠ¸)ê°€ ëª¨ì—¬ Trì´ ë˜ê³ , Trì´ ëª¨ì—¬ Tableì´ ëœë‹¤.
ê·¸ëŸ° Table ì»´í¬ë„ŒíŠ¸ë¥¼ TicTacToeì— ë Œë”ë§ í•œë‹¤.

ì´ 4ê°œì˜ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ë¡œ êµ¬ì„±ë˜ì–´ìˆê¸° ë•Œë¬¸ì—,
ìµœìƒìœ„ 

<br>

- **state**ëŠ” ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ì¸ TicTacToeê°€ ê´€ë¦¬í•˜ì§€ë§Œ,
**ì‹¤ì§ˆì ìœ¼ë¡œ í´ë¦­í•˜ê³  ë‹¤ë£¨ëŠ” ê²ƒ**ì€ ìµœí•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì¸ Td ì´ë‹¤.

- ë ë¼ì„œ, TicTacToeì˜ `state`ì™€ `setState`í•¨ìˆ˜ë“¤ì„ ì´ 3ë‹¨ê³„ë¥¼ ê±°ì³ Propë¡œ ì „ë‹¬í•´ì•¼í•¨.
-> ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `ontext API`ë¥¼ ì‚¬ìš©í•¨.



<br>

<center> * * * </center>

context APIë¥¼ ë°°ìš°ê¸°ì— ì•ì„œ, state ê°œìˆ˜ ìì²´ë¥¼ ì¤„ì—¬ì£¼ëŠ” **useReducer**ì„ ì•Œì•„ë³´ì.

> - stateê°€ ë§ì•„ì§€ë©´ ê´€ë¦¬ê°€ í˜ë“¤ì–´ì§.
- useReducerì„ ì‚¬ìš©í•˜ë©´, í•˜ë‚˜ì˜ stateì™€ í•˜ë‚˜ì˜ setStateí•¨ìˆ˜ë¡œ í•œë²ˆì— ê´€ë¦¬ ê°€ëŠ¥.


### useReducer ì‚¬ìš©

``` jsx
import React, { useState, useReducer } from 'react';
import Table from './Table';

const initialState = {
  winner: '',
  turn: 'O',
  tableData: [
    ['', '', ''],
    ['', '', ''],
    ['', '', ''],
  ],
};

const reducer = (state, action) => {
    // stateë¥¼ ì–´ë–»ê²Œ ë³€ê²½í• ì§€ ì‘ì„±
}

const TicTacToe = () => {
  const [state, dispatch] = useReducer(reducer, initialState);

  const [winner, setWinner] = useState('');
  const [turn, setTurn] = useState('O');
  const [tableData, setTableData] = useState([
    ['', '', ''],
    ['', '', ''],
    ['', '', ''],
  ]);

  return (
    <>
      <Table />
      {winner && <div>{winner}ë‹˜ì˜ ìŠ¹ë¦¬!</div>}
    </>
  );
};

export default TicTacToe;
```


- ìš°ì„ , `React.useReducer`ì€ **ë‘ê°œì˜ ì¸ì**ë¥¼ ê°–ëŠ”ë‹¤.
1. reducer í•¨ìˆ˜ (stateë¥¼ ë³€ê²½í•  í•¨ìˆ˜)
2. initialState (stateë“¤ì˜ ì´ˆê¸°ê°’ ì •ì˜)

``` jsx
const [state, dispatch] = useReducer(reducer, initialState)
```

ë§ˆì¹˜ useStateë¥¼ ì‘ì„±í•˜ë“¯ì´, **ë°°ì—´ êµ¬ì¡°ë¶„í•´ í• ë‹¹**ìœ¼ë¡œ stateì™€ dispatchë¥¼ ì„ ì–¸í•´ì¤€ë‹¤.
-> `useReducer()` í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì€ ë°°ì—´ì´ë¯€ë¡œ.

ê·¸ ë‹¤ìŒìœ¼ë¡œ, reducer(í•¨ìˆ˜) ê·¸ë¦¬ê³  initialStateë¥¼ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤.
-> HooksëŠ” stateê°€ ë°”ë€Œë©´ í•¨ìˆ˜ ì „ì²´ê°€ ì¬ì‹¤í–‰ë˜ë¯€ë¡œ, í•¨ìˆ˜ ë°”ê¹¥ì— ì •ì˜í•´ì¤€ë‹¤.
(= ì§€ë‚œ ì‹œê°„ Lotto ì˜ˆì œì—ì„œ getWinNumbersë¥¼ ë°”ê¹¥ì— ë¹¼ì¤¬ë“¯ì´.)

> useReducer(reducer, initialState)
- ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
- ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ë°”ê¹¥ì— ì‘ì„± í•  ìˆ˜ë„ ìˆê³ , ì‹¬ì§€ì–´ ë‹¤ë¥¸ íŒŒì¼ì— ì‘ì„± í›„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš© í•  ìˆ˜ë„ ìˆë‹¤.
- [ì°¸ê³  ë¬¸ì„œ](https://react.vlpt.us/basic/20-useReducer.html)


***


## reducer, action, dispatchì˜ ê´€ê³„


### onClickTable í•¨ìˆ˜

ìš°ì„ , Table ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¦­í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” onClickTable í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤.
- TicTacToe.jsx ë‚´ë¶€ì— ì‘ì„±í•¨.
- return()ë¶€ë¶„, ì¦‰ ì»´í¬ë„ŒíŠ¸ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ë“¤ì–´ê°€ëŠ” í•¨ìˆ˜ëŠ” ë¬´ì¡°ê±´ `useCallback`ì„ í•´ì£¼ì.


``` jsx
// JSX
  return (
    <>
      <Table onClick={onClickTable} />
      {winner && <div>{winner}ë‹˜ì˜ ìŠ¹ë¦¬!</div>}
    </>
  );
```

-> **useCallback**ìœ¼ë¡œ ê°ì‹¸ì£¼ì–´ í•œë²ˆë§Œ ì„ ì–¸ë˜ë„ë¡ í•¨ìˆ˜ ìì²´ë¥¼ ì €ì¥í•´ë²„ë¦¼.

```jsx
 const onClickTable = useCallback(() => {
    dispatch({ type: 'SET_WINNER', winner: 'O' });
    // action ê°ì²´ì™€ actionì„ ì‹¤í–‰í•˜ëŠ” dispatch
  }, []);
```

í•¨ìˆ˜ ë‚´ë¶€ì—ëŠ” winnerì„ 'O'ë¡œ ë³€ê²½í•´ì£¼ëŠ” ë‚´ìš©ì„ ë‹´ìŒ.
ì—¬ê¸°ì„œ, `dispatch`ì™€ `action`ì˜ ê°œë…ì´ ë“±ì¥í•¨.

dispatch()í•¨ìˆ˜ ì•ˆì— action ê°ì²´ë¥¼ ì§‘ì–´ ë„£ìŒ.
**ì¦‰, dispatchëŠ” actionê°ì²´ë¥¼ ì‹¤í–‰ì‹œì¼œì£¼ëŠ” ê²ƒ.**


> dispatch({actionê°ì²´}) ë§Œ í•œë‹¤ê³  ë°”ë¡œ stateê°€ ë³€ê²½ë˜ëŠ” ê²ƒì€ âŒ
> actionì„ í•´ì„í•´ì„œ ì§ì ‘ stateë¥¼ ë°”ê¿”ì£¼ëŠ” `reducer`ê°€ í•„ìš”.



``` jsx
const reducer = (state, action) => {
  // stateë¥¼ ì–´ë–»ê²Œ ë³€ê²½í• ì§€ ì‘ì„±
  switch (action.type) {
    case 'SET_WINNER':
      return {
        ...state,
        winner: action.winner,
      };
  }
};
```
- actionê°ì²´ì˜ typeë§ˆë‹¤ êµ¬ë¶„í•  ìˆ˜ ìˆë„ë¡ switchë¬¸ìœ¼ë¡œ ì‘ì„±í•¨.
- stateë¥¼ ìŠ¤í”„ë ˆë“œ í•œ í›„, winnerí”„ë¡œí¼í‹°ê°€ action.winnerì¸ ê°ì²´ ë°˜í™˜.
-> stateê°ì²´ë¥¼ ìŠ¤í”„ë ˆë“œí•˜ì—¬ ë™ì¼í•œ **ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ë°”ë€ ê°’ë§Œ ìˆ˜ì •**í•˜ì—¬ ë°˜í™˜í•¨.


> â—ï¸ì£¼ì˜
- stateë¥¼ ì§ì ‘ ë°”ê¿”ì„œëŠ” ì•ˆë¨!
``` js
state.winner = action.winner;
```

<br>

#### ì§€ê¸ˆê¹Œì§€ì˜ ì½”ë“œ
TicTacToe.jsx

``` jsx
import React, { useState, useReducer, useCallback } from 'react';
import Table from './Table';

const initialState = {
  winner: '',
  turn: 'O',
  tableData: [
    ['', '', ''],
    ['', '', ''],
    ['', '', ''],
  ],
};

const reducer = (state, action) => {
  // stateë¥¼ ì–´ë–»ê²Œ ë³€ê²½í• ì§€ ì‘ì„±
  switch (action.type) {
    case 'SET_WINNER':
      return {
        ...state,
        winner: action.winner,
      };
  }
};

const TicTacToe = () => {
  const [state, dispatch] = useReducer(reducer, initialState);

  const onClickTable = useCallback(() => {
    dispatch({ type: 'SET_WINNER', winner: 'O' });
  }, []);

  return (
    <>
      <Table onClick={onClickTable} />
      {state.winner && <div>{state.winner}ë‹˜ì˜ ìŠ¹ë¦¬</div>}
    </>
  );
};

export default TicTacToe;
```

### Table ì»´í¬ë„ŒíŠ¸


Table.jsx

``` jsx
import React from 'react';
import Tr from './Tr';

const Table = ({ onClick }) => {
  return (
    <table onClick={onClick}>
      <Tr>{''}</Tr>
    </table>
  );
};

export default Table;
```

propsë¡œ onClickì„ ë°›ìœ¼ë¯€ë¡œ (TicTacToeì—ì„œëŠ” onClickTable)
ì¸ìë¡œ ë°›ì•„ì£¼ê³ , (êµ¬ì¡°ë¶„í•´ í• ë‹¹ìœ¼ë¡œ ë°›ìœ¼ë©´ í¸ë¦¬) onClick ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ëŒ€ì…í•œë‹¤.

-> ì´ì œ í…Œì´ë¸”ì„ í´ë¦­í•˜ë©´ onClickTableì— ì˜í•´ winnerê°€ dispatchëœë‹¤.

> ì°¸ê³ 
- ì°¸ê³ ë¡œ, actionì˜ type(ì´ë¦„)ì€ ë³€ìˆ˜ë¡œ ë”°ë¡œ ë¹¼ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤. (ì˜¤íƒ€ ë°©ì§€ + ê°€ë…ì„±)
``` jsx
const SET_WINNER = 'SET_WINNER';
```

![](https://velog.velcdn.com/images/thisisyjin/post/f835712b-1502-46e0-bdc3-48ef3daeba59/image.gif)

- ê¸°ì¡´ stateì¸ state.winnerì— action.winnerë¡œ ë„£ì–´ì¤Œ.
(ë‹¨, ì§ì ‘ í• ë‹¹ì€ ì•„ë‹ˆê³  reducerê°€ í•´ì¤Œ)

***
### reducer, action, dispatch ì›ë¦¬

![](https://velog.velcdn.com/images/thisisyjin/post/025167e4-864f-4ec3-8a5a-5f1e6c687cf6/image.png)


- stateëŠ” ì•„ë¬´ë„ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ì—†ìŒ.
- stateë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ actionì„ ë§Œë“¤ì–´ì„œ dispatchë¡œ ì‹¤í–‰í•´ì•¼í•¨.
- actionì„ ì–´ë–»ê²Œ ì²˜ë¦¬í• ì§€ëŠ” -> reducer


***

## 3*3 í…Œì´ë¸” ë§Œë“¤ê¸°

### 1. trì„ ì„¸ê°œë¡œ

TicTacToe.jsx

``` jsx
...
return (
    <>
      <Table onClick={onClickTable} tableData={state.tableData} />
      {state.winner && <div>{state.winner}ë‹˜ì˜ ìŠ¹ë¦¬</div>}
    </>
  );
```

- Table ì»´í¬ë„ŒíŠ¸ë¡œ tableDataë¥¼ propsë¡œ ì „ë‹¬í•¨.
(tableDataë„ TicTacToe ì»´í¬ë„ŒíŠ¸ì˜ stateì¸ state.tableDataì„)


<br>

Table.jsx

``` jsx
import React from 'react';
import Tr from './Tr';

const Table = ({ onClick, tableData }) => {
  return (
    <table onClick={onClick}>
      {Array(tableData.length)
        .fill()
        .map((tr) => (
          <Tr />
        ))}
    </table>
  );
};

export default Table;
```

- propsë¡œ ë°›ì€ tableDataë¥¼ ë°›ì•„ì˜´.
- tableDataëŠ” ì´ˆê¸°ê°’ì¸  [['', '', ''], ['', '', ''], ['', '', '']] ì´ë¯€ë¡œ lengthëŠ” 3ì„.
- Array(3)ì´ë¯€ë¡œ lengthê°€ 3ì¸ ë¹ˆ ë°°ì—´ì„ ë§Œë“¤ê³ , fill()ë¡œ ê³µë°±ìœ¼ë¡œ ì±„ì›€.
- map ë©”ì„œë“œë¡œ ê° ìš”ì†Œë¥¼ <Tr />ë¡œ í•´ì¤Œ.


![](https://velog.velcdn.com/images/thisisyjin/post/41875f01-c918-4508-9c6f-fa4386d534af/image.png)

-> Trì´ 3ê°œì¸ í…Œì´ë¸” ì™„ì„±ë¨.

### 2. tdë¥¼ ì„¸ê°œë¡œ

- ê°ê°ì˜ Trì•ˆì—ì„œ tdë¥¼ ì„¸ê°œë¡œ ë‚˜ëˆ ì£¼ë©´ 3*3 í…Œì´ë¸”ì´ ì™„ì„±ë¨.
- ìš°ì„ , ì´ì°¨ì› ë°°ì—´ì¸ tableDataì˜ ê° ìš”ì†Œë¥¼ `rowData`ë¼ëŠ” propsë¡œ Tr ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬.

-> ì˜ˆ) tableData = [[1,2,3], [4,5,6], [7,8,9]] ë¼ë©´?
ì²« Trì—ëŠ” [1,2,3]ê°€
ê·¸ë‹¤ìŒ Trì€ [4,5,6]ê°€
ë§ˆì§€ë§‰ Trì€ [7,8,9]ê°€ rowDataë¡œ ë„˜ì–´ê°€ë„ë¡.


Table.jsx
``` jsx
...
return (
    <table onClick={onClick}>
      {Array(tableData.length)
        .fill()
        .map((tr, i) => (
          <Tr rowData={tableData[i]} />
        ))}
    </table>
  );
```
map ë©”ì„œë“œì˜ **ë‘ë²ˆì§¸ ì¸ìì¸ ì¸ë±ìŠ¤ë¥¼** í™œìš©.
-> ì¸ë±ìŠ¤ëŒ€ë¡œ ìˆœíšŒí•˜ë¯€ë¡œ, tableData ë°°ì—´ì˜ 0,1,2ë²ˆì§¸ ìš”ì†Œë¥¼ ê°ê° Trì˜ rowDataë¼ëŠ” propsë¡œ ì „ë‹¬í•¨.

<br>

Tr.jsx
``` jsx
import React from 'react';
import Td from './Td';

const Tr = ({ rowData }) => {
  return (
    <tr>
      {Array(rowData.length)
        .fill()
        .map((td) => (
          <Td>{''}</Td>
        ))}
    </tr>
  );
};

export default Tr;
```

- 3*3 í…Œì´ë¸”ì´ ì™„ì„±ë¨. 
![](https://velog.velcdn.com/images/thisisyjin/post/4dbc9130-7172-4678-9b1e-664b4e10509d/image.png)

- React Dev Toolsë¡œ ì‚´í´ë³´ë©´,
í…Œì´ë¸” ì…€ í•˜ë‚˜í•˜ë‚˜ê°€ ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬ì„±ë˜ì–´ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/thisisyjin/post/475721d1-8492-42fb-a9db-e6e5197b7c80/image.png)


***

## action ë§Œë“¤ì–´ dispatch í•˜ê¸°


ì´ì œ í•˜ë‚˜ì˜ ì…€(Td)ì„ í´ë¦­í•  ë•Œ ë§ˆë‹¤ O ë˜ëŠ” Xê°€ ë Œë”ë§ ë˜ê²Œ í•´ì•¼í•¨.

- ì§€ê¸ˆ í´ë¦­í•œ ì…€ì˜ ìœ„ì¹˜ë¥¼ ì•Œë ¤ë©´?
-> map í•¨ìˆ˜ì—ì„œ ì¼ë˜ indexë„ propsë¡œ ë„˜ê²¨ì£¼ì.


1. Table.jsx
``` jsx
const Table = ({ onClick, tableData }) => {
  return (
    <table onClick={onClick}>
      {Array(tableData.length)
        .fill()
        .map((tr, i) => (
          <Tr rowIndex={i} rowData={tableData[i]} />
        ))}
    </table>
  );
};
```
- map í•¨ìˆ˜ì˜ ì¸ë±ìŠ¤ì¸ ië¥¼ Tr ì»´í¬ë„ŒíŠ¸ì— `rowIndex`ë¼ëŠ”  propsë¡œ ë„˜ê¹€.


2. Tr.jsx

```jsx
const Tr = ({ rowData, rowIndex }) => {
  return (
    <tr>
      {Array(rowData.length)
        .fill()
        .map((td, i) => (
          <Td rowIndex={rowIndex} cellIndex={i}>
            {''}
          </Td>
        ))}
    </tr>
  );
};
```
- map í•¨ìˆ˜ì˜ ì¸ë±ìŠ¤ì¸ ië¥¼ Td ì»´í¬ë„ŒíŠ¸ì— `cellIndex`ë¼ëŠ” propsë¡œ ë„˜ê¹€
- Td ì»´í¬ë„ŒíŠ¸ë¡œ rowIndex, cellIndex ëª¨ë‘ ë„˜ê²¨ì¤Œ
-> Td ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë‘ propsë¥¼ ë‹¤ ì‚¬ìš© ê°€ëŠ¥í•´ì§.


Td.jsx

``` jsx
const Td = ({ rowIndex, cellIndex }) => {
  const onClickTd = useCallback(() => {
    console.log(rowIndex, cellIndex);
  }, []);

  return <td onClick={onClickTd}>{''}</td>;
};
```
- onClickTd í•¨ìˆ˜ë¥¼ ë§Œë“¬.
- ì»´í¬ë„ŒíŠ¸ì— ë„£ì–´ì¤€ í•¨ìˆ˜ëŠ” ë°˜ë“œì‹œ useCallbackìœ¼ë¡œ ê°ì‹¸ì¤˜ì•¼í•¨!
- onClickTd í•¨ìˆ˜ì—ëŠ” í´ë¦­í•œ ìœ„ì¹˜ë¥¼ ì•Œ ìˆ˜ ìˆë„ë¡, rowIndexì™€ cellIndexê°€ ëœ¨ê²Œ ì½˜ì†”ë¡œê·¸ í•´ë´„.

![](https://velog.velcdn.com/images/thisisyjin/post/fec8eece-25b6-45a2-99a0-261acdc7c3e1/image.png)

***

### ìƒˆë¡œìš´ action ê°ì²´ ìƒì„±

- TicTacToeì˜ state.tableDataë¥¼ ë³µì‚¬í•´ì„œ
í•´ë‹¹ í´ë¦­í•œ ì…€ ìœ„ì¹˜ì— 'O' ë˜ëŠ” 'X'ê°€ ë“¤ì–´ê°€ê²Œ.
- 'O'ë˜ëŠ” 'X'ëŠ” state.turnì„ í† ê¸€ë˜ë„ë¡ í•¨.


#### 1. Td.jsx
``` jsx
const Td = ({ rowIndex, cellIndex, dispatch, cellData }) => {
  const onClickTd = useCallback(() => {
    // dispatch (1. ì…€í´ë¦­ / 2. í„´ êµëŒ€)
    dispatch({ type: CLICK_CELL, row: rowIndex, cell: cellIndex });
    dispatch({ type: CHANGE_TURN });
  }, []);

  return <td onClick={onClickTd}>{cellData}</td>;
};
```

- action ê°ì²´ëŠ” ë§˜ëŒ€ë¡œ ì‘ì„±í•´ë„ ëœë‹¤.
- reducerë¡œ action ê°ì²´ë¥¼ ì˜ ì²˜ë¦¬í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

<br>

#### 2. TicTacToe.jsx reducer ë¶€ë¶„

TicTacToe.jsx
``` jsx
const reducer = (state, action) => {
  switch (action.type) {
    // ìƒëµ
    case CLICK_CELL: {
      const tableData = [...state.tableData];
      tableData[action.row] = [...tableData[action.row]];
      tableData[action.row][action.cell] = state.turn;
      return {
        ...state,
        tableData,
      };
    }
      
    case CHANGE_TURN: {
      return {
        ...state,
        turn: state.turn === 'O' ? 'X' : 'O',
      };
    }
  }
};
```

2-1) CLICK_CELL ë¡œì§
ì˜ˆë¥¼ ë“¤ì–´ ì§€ê¸ˆ ì • ê°€ìš´ë° ì…€ì„ í´ë¦­í–ˆë‹¤ê³  ì¹˜ë©´
action.row = 1, action.cell = 1ì´ë‹¤.

- tableDataì˜ ì–•ì€ë³µì‚¬ë¥¼ í•œë‹¤.
- tableData[1]ì„ ì–•ì€ë³µì‚¬ë¥¼ í•œë‹¤. -> ['', '', '']
- tableData[1][1]ì— state.turnì„ ëŒ€ì….
(stateì´ë¯€ë¡œ í˜„ì¬ turn)


2-2) CHANGE_TURN ë¡œì§

- ì‚¼í•­ì—°ì‚°ì ì´ìš©.
- í˜„ì¬ state.turnì´ 'O'ë©´ 'X'ë¡œ ë°”ê¿”ì£¼ê³ ,
- ì•„ë‹ˆë©´ 'O'ë¡œ ë°”ê¿”ì¤Œ.



> CLICK_CELLê³¼ ê°™ì€ íƒ€ì…ëª…ì€ **exportë¥¼ ë¶™ì—¬ ëª¨ë“ˆí™”** í•´ì¤€ë‹¤. 
-> í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ import í•´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡.
``` jsx
// í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëª¨ë“ˆë¡œ ë§Œë“¬
export const SET_WINNER = 'SET_WINNER';
export const CLICK_CELL = 'CLICK_CELL';
export const CHANGE_TURN = 'CHANGE_TURN';
```


- ë‘ reducerì€ onClickTdì—ì„œ ìƒì„±ë˜ëŠ” action ê°ì²´ë¥¼ ì²˜ë¦¬í•´ì¤Œ.

<br>

#### 3. cellData ì „ë‹¬

ìœ„ CLICK_CELLì—ì„œ tableDataë¥¼ ë³€ê²½í–ˆìœ¼ë¯€ë¡œ,
(ì •í™•íˆëŠ” ì–•ì€ë³µì‚¬ë¥¼ í•´ì„œ ì…€ì˜ ìœ„ì¹˜ì— ë§ê²Œ state.turnì„ ëŒ€ì…í•œ ê²ƒ)

cellDataë¥¼ í™”ë©´ì— ë Œë”ë§í•˜ê¸° ìœ„í•´ì„œ rowData ë§ê³ ë„ cellDataë„ Tdì— ì „ë‹¬í•´ì¤˜ì•¼ í•¨.
= rowData[i]


Tr.jsx
``` jsx
return (
    <tr>
      {Array(rowData.length)
        .fill()
        .map((td, i) => (
          <Td
            rowIndex={rowIndex}
            cellIndex={i}
            cellData={rowData[i]} 
            dispatch={dispatch}
          >
            {''}
          </Td>
        ))}
    </tr>
  );
```
<br>

#### 4. td ì„¤ì • (import, JSX)

1) import
``` jsx
import { CLICK_CELL, CHANGE_TURN } from './TicTacToe';
```

2) JSX

``` jsx
const Td = ({ rowIndex, cellIndex, dispatch, cellData }) => {
  ...
  return <td onClick={onClickTd}>{cellData}</td>;
};
```


*** 
### <ê²°ê³¼>

![](https://velog.velcdn.com/images/thisisyjin/post/7c250c07-2a09-483a-adc9-7d69dacd7b98/image.gif)
-> O, X ìˆœì„œëŒ€ë¡œ ë‚˜íƒ€ë‚¨.

