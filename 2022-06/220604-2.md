# ğŸ’« Wish-List Project

![](https://velog.velcdn.com/images/thisisyjin/post/3fc987fc-89ec-4ec6-85df-e448131cc54e/image.png)


- **reduxì™€ localStorage**ë¡œ ìƒíƒœ ê´€ë¦¬ ë° ì €ì¥.
- react ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ styled-components ìŠ¤íƒ€ì¼ë§.
- react-router-dom ê¸°ë°˜ ë¼ìš°íŠ¸ ì„¤ì • + ì»´í¬ë„ŒíŠ¸ ë Œë”ë§

<br>

***

# [ğŸŒ ë°°í¬ ë§í¬](https://thisisyjin.github.io/wish-list/) - â—ï¸ëª¨ë°”ì¼ í™˜ê²½ ìµœì í™”

***

<br>

## ğŸ–¼ Preview

### ğŸ“± Mobile
- main 
<img width="373" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-05 á„‹á…©á„Œá…¥á†« 10 00 35" src="https://user-images.githubusercontent.com/89119982/172030600-422d88fd-b22c-4b7b-a858-132af717fff2.png">

- detail
<img width="373" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-05 á„‹á…©á„Œá…¥á†« 10 00 58" src="https://user-images.githubusercontent.com/89119982/172030604-d1427d03-aff8-44f0-9176-8ec4b45da717.png"><img width="373" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-05 á„‹á…©á„Œá…¥á†« 10 01 15" src="https://user-images.githubusercontent.com/89119982/172030607-58ae1fc9-2e8a-409a-811b-e9dee6c11c1e.png">


### ğŸ–¥ Desktop
<img width="1440" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-06-05 á„‹á…©á„Œá…¥á†« 9 59 50" src="https://user-images.githubusercontent.com/89119982/172030592-6a67cabd-dc0e-4f23-a005-841e57c58bed.png">

<br>

## ğŸ¨ [ë””ìì¸ ë° ê¸°íš](https://www.figma.com/file/XZkIgEMjO2BIUvxWp74RjM/wishes?node-id=2%3A122)

- ì§ì ‘ ë””ìì¸ íˆ´ì¸ figmaë¡œ ë””ìì¸ ë° ê¸°íš ì§„í–‰í•¨.
- íŒŒë¹„ì½˜ë„ ë§Œë“¤ì–´ ì ìš©í•¨
![](https://velog.velcdn.com/images/thisisyjin/post/d2712606-d79f-44ef-999c-c7c06616bb7c/image.ico)


<br>

## ğŸš€ ìŠ¤íƒ

- `React`
- `Redux`
- `JavaScript`

<br>

## ğŸ“‚ ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```
â”œâ”€â”€ public
â””â”€â”€ src
    â”œâ”€â”€ components
    â”œâ”€â”€ routes
    â”œâ”€â”€ assets â”€â”€ lib
    â””â”€â”€ styles
```



***


## ì£¼ìš” ì½”ë“œ

store.js

``` js
import { createStore } from 'redux';

const ADD = 'ADD';
const DELETE = 'DELETE';
const CLEAR = 'CLEAR';

const addWish = (text) => {
  return {
    type: ADD,
    text,
  };
};

const deleteWish = (id) => {
  return {
    type: DELETE,
    id,
  };
};

const clearAll = () => {
  return {
    type: CLEAR,
  };
};

JSON.parse(localStorage.getItem('wishes')) ||
  localStorage.setItem('wishes', JSON.stringify([]));

const reducer = (
  state = JSON.parse(localStorage.getItem('wishes')),
  action
) => {
  switch (action.type) {
    case ADD:
      const addItem = [...state, { text: action.text, id: Date.now() }];
      localStorage.setItem('wishes', JSON.stringify(addItem));
      return addItem;

    case DELETE:
      const deleteItem = state.filter((toDo) => toDo.id !== action.id);
      localStorage.setItem('wishes', JSON.stringify(deleteItem));
      return deleteItem;

    case CLEAR:
      localStorage.setItem('wishes', JSON.stringify([]));
      return [];

    default:
      return state;
  }
};

const store = createStore(reducer);

export const actionCreators = {
  addWish,
  deleteWish,
  clearAll,
};

export default store;

```

- ë§Œì•½ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— wishes í•„ë“œê°€ ì¡´ì¬í•œë‹¤ë©´ ê·¸ ê°’ì„ ê°€ì ¸ì˜¤ê³ , ì—†ë‹¤ë©´ ë¹ˆ ë°°ì—´ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ë“±ë¡í•¨.

- stateì˜ ê¸°ë³¸ê°’ì€ `JSON.parse(localStorage.getItem('wishes'))` = ë°°ì—´

1. ADD 
2. DELETE
3. CLEAR


>- localStorage.setItem('wishes', JSON.stringify(ë°”ë€state)
- return (ë°”ë€state)

- reducerì´ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ë¯€ë¡œ í•˜ë‚˜ì˜ íŒŒì¼ì— ëª¨ë“  ë¦¬ë•ìŠ¤ ê´€ë ¨ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŒ.
- ì•¡ì…˜ ìƒì„±í•¨ìˆ˜ë¥¼ (ì¶”í›„ mapDispatchToPropsë¡œ ì „ë‹¬í•´ì¤„ í•¨ìˆ˜ì™€ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ)
í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ export í•´ì¤Œ.


- ì—¬ê¸°ì„œëŠ” ì•¡ì…˜ìƒì„±í•¨ìˆ˜ì™€ ë¦¬ë“€ì„œí•¨ìˆ˜ë¥¼ ì •ì„ëŒ€ë¡œ ì‘ì„±í•¨.
(redux-actions ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì‹œ ë” í¸ë¦¬)




<br>

Home.jsx

``` jsx
import { useState } from 'react';
import { connect } from 'react-redux';
import { actionCreators } from '../store';
import { Link } from 'react-router-dom';
import { Container, StyledHeader, StyledMain } from '../styles/HomeStyle';
import { ReactComponent as Plus } from '../assets/plus.svg';
import { ReactComponent as Clear } from '../assets/clear.svg';

import Wish from '../components/Wish';

const Home = ({ wishes, addWishes, clearAll }) => {
  const [text, setText] = useState('');
  const onChangeInput = (e) => {
    setText(e.target.value);
  };

  const onSubmitForm = (e) => {
    e.preventDefault();
    addWishes(text);
    setText('');
  };

  const clearLocal = () => {
    clearAll();
  };

  return (
    <>
      <Container>
        <StyledHeader>
          <h1 className="header-logo">
            <Link to="/">WISH LIST</Link>
          </h1>
          <form onSubmit={onSubmitForm}>
            <input
              type="text"
              value={text}
              onChange={onChangeInput}
              className="wish-input"
              placeholder="If you sincerely hope, It will come true."
            />
            <button className="wish-button">
              <Plus />
            </button>
          </form>
        </StyledHeader>
        <StyledMain>
          <ul className="wish-list">
            {wishes.map((wish) => (
              <Wish text={wish.text} id={wish.id} key={wish.id} />
            ))}
          </ul>
          <button className="clear-button" onClick={clearLocal}>
            <Clear />
          </button>
        </StyledMain>
      </Container>
    </>
  );
};

const mapStateToProps = (state) => {
  return { wishes: state };
};

const mapDispatchToProps = (dispatch) => {
  return {
    addWishes: (text) => {
      dispatch(actionCreators.addWish(text));
    },
    clearAll: () => {
      dispatch(actionCreators.clearAll());
    },
  };
};

export default connect(mapStateToProps, mapDispatchToProps)(Home);
```

- ì›ë˜ëŒ€ë¡œë¼ë©´ useSelector, useDispatch í›…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” í¸ë¦¬í•˜ì§€ë§Œ,
react-reduxì˜ í•µì‹¬ í•¨ìˆ˜ì¸ `connect`ì˜ ì›ë¦¬ì— ëŒ€í•´ ì´í•´í•˜ê³ ì ì´ ë°©ë²•ì„ ì„ íƒí•¨.
-> HOC(Higher-order component)ì„.

- connectì˜ ì²«ë²ˆì§¸ ì¸ìë¡œ `mapStateToProps`ê°€ ë“¤ì–´ê°.
-> storeì˜ stateë¥¼ wishes ë¼ëŠ” Home ì»´í¬ë„ŒíŠ¸ì˜ `props`ë¡œ ë„£ì–´ì¤Œ.


- addWishì™€ clearAll í•¨ìˆ˜ë¥¼ dispatch í•´ì„œ ì•¡ì…˜ì„ ë°œìƒì‹œí‚´.
-> reducerì— ì˜í•´ stateê°€ ë³€ê²½ë¨.


<br>

Detail.jsx

``` jsx
import { useParams } from 'react-router-dom';
import { connect } from 'react-redux';
import { Link } from 'react-router-dom';
import { Container, StyledMain } from '../styles/HomeStyle';
import {
  StyledDetailHeader,
  StyledSpan,
  DetailInfo,
} from '../styles/DetailStyle';
import { actionCreators } from '../store';
import Deleted from '../components/Deleted';
import { ReactComponent as Delete } from '../assets/delete.svg';

const Detail = ({ wish, deleteTodo }) => {
  const { id } = useParams();
  const wishText = wish.find((wish) => wish.id === parseInt(id));

  const onClickButton = () => {
    deleteTodo(id);
    console.log(wish);
  };

  const writtenDate = new Date(+id);
  const year = writtenDate.getFullYear();
  const month = writtenDate.getMonth() + 1;
  const date = writtenDate.getDate();

  const writtenDateString = `${year}-${month.toString().padStart(2, '0')}-${date
    .toString()
    .padStart(2, '0')}`;

  return (
    <>
      <Container>
        <StyledDetailHeader>
          <h1 className="header-logo">
            <span className="header-span">
              {' '}
              â€œ If you sincerely hope, It will come true. â€œ
            </span>
            <Link to="/">WISH LIST</Link>
          </h1>
        </StyledDetailHeader>
        <StyledMain>
          {wishText ? (
            <>
              <StyledSpan>I wish ...</StyledSpan>
              <DetailInfo>
                <h2 className="wish-title">{wishText.text}</h2>
                <h5 className="wish-date">
                  <span className="date-title">written date </span>{' '}
                  {writtenDateString}
                </h5>
                <button
                  className="detail-delete-button"
                  onClick={onClickButton}
                >
                  <Delete />
                </button>
              </DetailInfo>
            </>
          ) : (
            <Deleted />
          )}
        </StyledMain>
      </Container>
    </>
  );
};

const mapStateToProps = (state) => {
  return {
    wish: state,
  };
};

const mapDispatchToProps = (dispatch) => {
  return {
    deleteTodo: (id) => dispatch(actionCreators.deleteWish(+id)),
  };
};

export default connect(mapStateToProps, mapDispatchToProps)(Detail);

```
- idë¥¼ useParams()ë¡œ ê°€ì ¸ì˜¨ í›„, new Date(id)ë¥¼ í•´ì„œ ì‘ì„± ë‚ ì§œë¥¼ ë Œë”ë§í•¨.

- ë§Œì•½ wishTextê°€ ì—†ë‹¤ë©´ -> ì´ë¯¸ state(=wish)ì—ì„œ ì‚­ì œëœ í•„ë“œì„.
-> Deleted ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•¨.

- ì°¸ê³ ë¡œ, useParamsì˜ ê²°ê³¼ëŠ” ìˆ«ìë„ stringì´ ë¨.(ì£¼ì˜!)

