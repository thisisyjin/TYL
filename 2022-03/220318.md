# React.js

**Today I Learned ... **`react.js`

>ğŸ™‹â€â™‚ï¸ [**React.js Lecture**](https://www.youtube.com/watch?v=Zb70S1I6u6U&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn&index=20)

>ğŸ™‹â€ [**My Dev Blog**](https://mywebproject.tistory.com/)



***   


## React ë°˜ë³µë¬¸(loop)

#### ë°°ì—´ ë°˜ë³µë¬¸


```jsx
// ğŸ”» ì´ì°¨ì› ë°°ì—´ì˜ ê²½ìš°
return (
    <>
      <ul>
        {[
          ["ì‚¬ê³¼", "ë§›ìˆë‹¤"],
          ["ë°”ë‚˜ë‚˜", "ë§›ì—†ë‹¤"],
          ["í¬ë„", "ì‹œë‹¤"],
          ["ë°°", "ë‹¬ë‹¤"],
        ].map(v => {
          return (
            <li>
              <b>{v[0]}</b>
              - {v[1]}
            </li>
          );
        })}
      </ul>
    </>
  );
```

```jsx
// ğŸ”» ë°°ì—´ ì•ˆ ê°ì²´ì˜ ê²½ìš° (ë³´í†µ ì´ë ‡ê²Œ ì”€)
return (
    <>
      <ul>
        {[
          { fruit: "ì‚¬ê³¼", taste: "ë§›ìˆë‹¤" },
          { fruit: "ë°”ë‚˜ë‚˜", taste: "ë§›ì—†ë‹¤" },
          { fruit: "í¬ë„", taste: "ì‹œë‹¤" },
          { fruit: "ë°°", taste: "ë‹¬ë‹¤" },
        ].map(v => {
          return (
            <li>
              <b>{v.fruit}</b>
              - {v.taste}
            </li>
          );
        })}
      </ul>
    </>
  );
```

<br>


>ğŸ™‹â€â™‚ï¸ TIP 1 - key ì§€ì •
* map ì‚¬ìš©ì‹œ **keyë¥¼ ë°˜ë“œì‹œ ì§€ì •**í•´ì¤˜ì•¼ í•œë‹¤.
* keyëŠ” ì¤‘ë³µë˜ì§€ ì•Šê³  ê³ ìœ í•œ ê°’ì´ì—¬ì•¼ í•œë‹¤. 
* indexë¥¼ keyë¡œ ì‚¬ìš©í• ìˆ˜ë„ ìˆì§€ë§Œ, <abbr title="keyë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—˜ë¦¬ë¨¼ë¥¼ ì¶”ê°€orìˆ˜ì •,ì‚­ì œ íŒë‹¨í•˜ë¯€ë¡œ, ë°°ì—´ ìˆœì„œê°€ ë°”ë€Œë©´ ë¬¸ì œê°€ ìƒê¸°ê¸° ë•Œë¬¸">**ì„±ëŠ¥ìµœì í™”ì‹œ ë¬¸ì œê°€ ë°œìƒ**</abbr>í•œë‹¤.

```jsx
//[ë°°ì—´]
  .map(v => {
          return (
            <li key={v.fruit}>
              <b>{v.fruit}</b>
              {v.taste}
            </li>
          );
```


>ğŸ™‹â€â™‚ï¸ TIP 2 - arrow functionì—ì„œ return ìƒëµ
* Arrow Functionì—ì„œëŠ” **{ } ë¥¼ ìƒëµí•˜ë©´ returnì„ ìƒëµ**í•´ë„ ì¢‹ë‹¤.
* ()ì•ˆì— ì ì–´ì¤€ ê²ƒì„ ë°”ë¡œ return í•œë‹¤.
```jsx
.map(v => (
          <li key={v.fruit}>
            <b>{v.fruit}</b>
            {v.taste}
          </li>
        ))
```


<br>



><center>
ìœ„ ì½”ë“œëŠ” ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ë§Œ,  
ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. 
  <br>
  ğŸ”»  
   <br>
<b>propsë¥¼ ì´ìš©</b>í•˜ë©´ ëœë‹¤!
</center>



<br>

***

### propsë¥¼ ì´ìš©í•œ ë°˜ë³µë¬¸

<br>

ğŸ“ **FruitsInfo.jsx**

```jsx

import React from "react";
import Try from "./Try";

const FruitsInfo = props => {
  const fruits = [
    { fruit: "ì‚¬ê³¼", taste: "ë§›ìˆë‹¤" },
    { fruit: "ë°”ë‚˜ë‚˜", taste: "ë§›ì—†ë‹¤" },
    { fruit: "í¬ë„", taste: "ì‹œë‹¤" },
    { fruit: "ë°°", taste: "ë‹¬ë‹¤" },
  ];

  return (
    <>
      <ul>
        {fruits.map((v, i) => (
          <Try el={v} index={i} />
        ))}
      </ul>
    </>
  );
};

export default FruitsInfo;


```

**í•˜ìœ„ ì»´í¬ë„ŒíŠ¸**ì¸ Tryì— `el`ê³¼ `index`ë¼ëŠ” **props**ë¥¼ ë„˜ê²¨ì£¼ê³ ,
```
<Try el={v} index={i} />
```
ë°˜ë³µë¬¸ì˜ vë¥¼ ê·¸ëŒ€ë¡œ `el`ë¡œ ë„˜ê¸°ê³ , iëŠ” `index`ë¡œ ë„˜ê²¨ì¤€ ê²ƒì´ë‹¤.


<br>

ğŸ“ **Try.jsx**

```jsx
import React from "react";

function Try({ el, index}) {
  return (
    <li key={el.fruit}>
      <b>{el.fruit}</b>ëŠ” {el.taste} - {index}
      <div>ì»¨í…ì¸ 1</div>
      <div>ì»¨í…ì¸ 2</div>
      <div>ì»¨í…ì¸ 3</div>
      <div>ì»¨í…ì¸ 4</div>
    </li>
  );
}

export default Try;

```
ì—¬ê¸°ì„œëŠ” props.elê³¼ props.indexë¥¼ ê°ê° **{el, index}** ë¡œ ë°›ê³ ë‚˜ì„œ,   
`el.fruit`ì™€ `el.taste`ë¥¼ í•„ìš”í•œ ê³³ì— ì‘ì„±í•´ì£¼ë©´ ëœë‹¤.

> ğŸ™‹â€â™‚ï¸ **ì™œ** ì´ë ‡ê²Œ **Try ì»´í¬ë„ŒíŠ¸ë¡œ ë”°ë¡œ ë¶„ë¦¬**í–ˆëŠ”ì§€?
- ê°€ë…ì„± / ì¬ì‚¬ìš©ì„± / ì„±ëŠ¥ ìµœì í™” ìš©ì´
 

<br>


#### ğŸ”» **Class Component**ë¡œ ì‘ì„±ì‹œ

```jsx
return (
      <li key={this.props.el.fruit}>
        <b>{this.props.el.fruit}</b>ëŠ” {this.props.el.taste} - {this.props.index}
        <div>ì»¨í…ì¸ 1</div>
        <div>ì»¨í…ì¸ 2</div>
        <div>ì»¨í…ì¸ 3</div>
        <div>ì»¨í…ì¸ 4</div>
      </li>
    );
```
`this.props.el`ê³¼ ê°™ì´ ì‘ì„±í•´ì•¼í•œë‹¤.


<br>



#### ğŸ’¡ íƒ‘ë‹¤ìš´ VS ë°”í…€ì—… ë°©ì‹
> **íƒ‘ë‹¤ìš´ (Top-Down)**
>
>  í° ì»´í¬ë„ŒíŠ¸(ìƒìœ„ ì»´í¬ë„ŒíŠ¸)ì—ì„œ ì‘ì„± í›„, 
í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ê¸°ì¡´ì˜ ê°’ì„ propsë¡œ ë³´ë‚´ëŠ” ë“±
ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒ. (ìœ„ì—ì„œ í–ˆë˜ ë°©ì‹)

> **ë°”í…€ì—… (Bottom-Up)**
>
>ì‘ì€ ì»´í¬ë„ŒíŠ¸ë¶€í„° ë§Œë“¤ê¸° ì‹œì‘í•¨.
Reactê°€ ìˆ™ë ¨ë˜ë©´ Bottom-Up ë°©ì‹ìœ¼ë¡œ ì œì‘í•˜ê²Œ ë¨.


<br>




> ğŸ™‹â€â™‚ï¸ TIP 3 - **propsê°€ ìˆë‹¤ë©´?** 
 = ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ìˆë‹¤!
 - `props`ê°€ ì„ ì–¸ë˜ëŠ” ìˆœê°„ ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ ë¶€ëª¨-ìì‹ ê´€ê³„ê°€ ì„±ë¦½ë˜ëŠ” ê²ƒ.
- ì ì  ë¶€ëª¨-ìì‹ ê´€ê³„ê°€ í™•ì¥ë˜ë©´ ë³µì¡í•´ì§„ë‹¤. 
- ì´ë•ŒëŠ” `context`, `redux` ë“±ì„ ì‚¬ìš©í•œë‹¤.



> ğŸ™‹â€â™‚ï¸ TIP 4 - Reactì—ì„œ **ì£¼ì„**(Comment)ì²˜ë¦¬ëŠ”?
- javaScriptì—ì„œëŠ”  `// ì£¼ì„` ì´ì§€ë§Œ,
- React ì—ì„œëŠ” **`{/* ì£¼ì„ */}`** ìœ¼ë¡œ ì‘ì„±í•´ì•¼í•¨.
- ë°˜ë“œì‹œ **ì¤‘ê´„í˜¸**(curlyBrackets)ë¡œ ê°ì‹¸ì¤Œ.


> ğŸ™‹â€â™‚ï¸ TIP 5 - **Class Component**ì—ì„œ ë©”ì†Œë“œ ì„ ì–¸ì‹œ **Arrow Functionìœ¼ë¡œ ì‘ì„±**í•´ì•¼ í•¨! 
```js
onInputChange = (e) => {
  this.setState({
    value: e.target.value
  });}
```
- `()=> {}` ë¡œ ì‘ì„±í•´ì•¼ **this**ê°€ ë°”ì¸ë”©ëœë‹¤. 
- í™”ì‚´í‘œí•¨ìˆ˜ëŠ” **bind(this)**ë¥¼ ìë™ìœ¼ë¡œ í•´ì¤Œ!
- ë§Œì•½ this.stateë‚˜ thisê°’ë“¤ì´ í•„ìš” ì—†ë‹¤ë©´,
ì¼ë°˜ functionìœ¼ë¡œ ì ì–´ë„ ê´œì°®ë‹¤.
- ğŸ”» `constructor`ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ë„ ìˆê¸´ í•¨.
```js
class CompName extends Component {
  constructor(props) {
    super(props);
    this.state = { };
    this.onInputChange = this.onInputChange.bind(this); 
  }
```
- cf> **render()**ì•ˆì—ì„œëŠ” Arrow Functionìœ¼ë¡œ ì•ˆì¨ë„ ëœë‹¤. (extends **React.Component**ì—ì„œ ì²˜ë¦¬í•´ì¤Œ.)




### ìˆ«ìì•¼êµ¬(Bulls and cows) ì˜ˆì œ

[ì´ í¬ìŠ¤íŒ…](https://velog.io/@thisisyjin/React.js-BullsAndCows)ì— ë”°ë¡œ ì‘ì„±í•´ë‘ì—ˆë‹¤.


>ğŸ’ **key point**
>
>arrayì¸ stateì— ì§ì ‘ **`push`**í•˜ë©´ ì•ˆë˜ê³ ,
(ì›ë³¸ì˜ ê°’ë§Œ ë‹¬ë¼ì§„ë‹¤)
>
>`...(spread Operator)`ë¡œ **ìƒˆ ë°°ì—´ì„ ì„ ì–¸**í•´ì•¼ í•œë‹¤.
>
>- refernceê°€ ë‹¬ë¼ì ¸ì„œ arrayê°€ ê°’ì´ ë‹¬ë¼ì¡ŒìŒì„ Reactê°€ ì•Œì•„ì±„ë„ë¡.


<br>

>ğŸ™‹â€â™‚ï¸ **strike, ball íŒë‹¨ Logic**
>> âœ… ë°©ë²• 1
```jsx
// ë°˜ë³µ ë³€ìˆ˜ í•˜ë‚˜ë¡œ OK.
for (let i = 0; i < 4; i++) {
          if (valueArr[i] === answer[i]) {
            strike++;
          } else if (answer.includes(valueArr[i])) { // í¬í•¨í•˜ëŠ”ì§€
            ball++;
          }
```
>> âœ… ë°©ë²• 2
```jsx
// ë°˜ë³µ ë³€ìˆ˜(i,j) ë‘ê°œ í•„ìš”
 for (let i = 0; i < 4; i++) {
          for (let j = 0; j < 4; j++) {
            if (valueArr[i] === answer[j]) {
              if (i === j) {
                strike++;
              } else {
                ball++;
              }
            }
          }
```



<br>  


### ğŸ”» **[ì°¸ê³ ] if-elseë¬¸ì˜ ìˆœì„œ!**

>- ë‚´ê°€ ì‘ì„±í–ˆë˜ ì½”ë“œ
   - ë‚˜ëŠ” ë¨¼ì € íšŸìˆ˜ê°€ 10íšŒë¯¸ë§Œì¸ì§€ë¥¼ ê²€ì‚¬í–ˆì—ˆëŠ”ë°,
   ì´ëŠ” 10íšŒì§¸ì— ë§ì¶°ë„ ê²Œì„ì˜¤ë²„ê°€ ëœë‹¤.
```jsx
if (tries.length >= 9) { // tries.lengthê°€ 9ë©´ > ì´ì „ ë¡œê·¸ê°€ 9ê°œë‹ˆê¹Œ ì§€ê¸ˆì´ 10íšŒì§¸ ì‹œë„ì„!
      setResult(`ê²Œì„ì˜¤ë²„! ì •ë‹µì€ ${answer.join("")} ì˜€ìŠµë‹ˆë‹¤.`);
      setValue("");
      setTries([]);
      setAnswer(getNumbers());
    } else {
      if (value == answer.join("")) {
        // ì •ë‹µì´ë©´ 
      } else {
        // ì˜¤ë‹µì´ë©´ - strike, ball 
```
- ìˆ˜ì • ì½”ë“œ
  - ì •ë‹µì¸ì§€ ì•„ë‹Œì§€ ë¨¼ì € ì²´í¬í•´ì•¼í•œë‹¤.
```jsx
if (value === answer.join("")) {
      // ì •ë‹µì´ë©´
    } else { // ì˜¤ë‹µì´ë©´
      if (tries.length >= 9) {
         // íšŸìˆ˜ ì´ˆê³¼ì‹œ - gameover
      } else {
        for (let i = 0; i < 4; i++) {
          // strike, ball 
```


***

### ğŸ“ ë‹¤ì‹œì‹œì‘ ë²„íŠ¼ ë§Œë“¤ê¸°

> **ê²Œì„ì˜¤ë²„ì‹œ**
- 10íšŒ ì´ˆê³¼ì‹œ ê²Œì„ì˜¤ë²„ - ë‹¤ì‹œì‹œì‘ ë²„íŠ¼ì´ ë‚˜íƒ€ë‚¨
- ì •ë‹µ ë§ì¶°ë„ ê²Œì„ì˜¤ë²„ - ë‹¤ì‹œì‹œì‘ ë²„íŠ¼ì´ ë‚˜íƒ€ë‚¨
- ë‹¤ì‹œì‹œì‘ ë²„íŠ¼ í´ë¦­ì‹œ
    * value, tries, answer, result ì „ë¶€ ë¦¬ì…‹
    * â— ë‹¤ì‹œ ë²„íŠ¼ ì•ˆë³´ì´ê²Œ 
- ë²„íŠ¼ì€ ì‚¼í•­ì—°ì‚°ìë¡œ ë Œë”ë§ ì—¬ë¶€ ê²°ì •



```jsx
import React from "react";
import { useState, useRef } from "react";

function getNumbers() {
  const candidate = [1, 2, 3, 4, 5, 6, 7, 8, 9];
  const answerArr = [];
  for (let i = 0; i < 4; i++) {
    const chosen = candidate.splice(Math.floor(Math.random() * (9 - i)), 1)[0];

    answerArr.push(chosen);
  }
  return answerArr; // = answer = [2,5,6,1]
}

const BullsAndCows = () => {
  const [answer, setAnswer] = useState(getNumbers());
  const [value, setValue] = useState("");
  const [result, setResult] = useState("");
  const [tries, setTries] = useState([]); // pushì“°ë©´ ì›ë³¸ ë°”ë€Œë¯€ë¡œ ...ë¡œ ì¶”ê°€í•´ì£¼ê¸°
  const [gameover, setGameover] = useState(false);

  let inputRef = useRef(null);

  const onSubmitForm = e => {
    e.preventDefault();
    let strike = 0;
    let ball = 0;
    const valueArr = value.split("").map(v => parseInt(v));
    console.log(answer, valueArr);

    if (value === answer.join("")) {
      setResult("í™ˆëŸ°! ì •ë‹µì…ë‹ˆë‹¤.");
      setTries([...tries, { try: value, result: "í™ˆëŸ°! ì •ë‹µì…ë‹ˆë‹¤." }]);
      setValue("");
      setGameover(true);
    } else {
      if (tries.length >= 9) {
        setResult(`ê²Œì„ì˜¤ë²„! ì •ë‹µì€ ${answer.join("")} ì˜€ìŠµë‹ˆë‹¤.`);
        setTries([...tries, { try: value, result: `ê²Œì„ì˜¤ë²„!` }]);
        setGameover(true);
      } else {
        for (let i = 0; i < 4; i++) {
          if (answer[i] === valueArr[i]) {
            strike++;
          } else if (answer.includes(valueArr[i])) {
            ball++;
          }
        }
        setValue("");
        setResult(`${strike}ìŠ¤íŠ¸ë¼ì´í¬ ${ball}ë³¼`);
        setTries([
          ...tries,
          { try: value, result: `${strike}ìŠ¤íŠ¸ë¼ì´í¬ ${ball}ë³¼` },
        ]);
      }
    }
  };

  const onChangeInput = e => {
    setValue(e.target.value);
  };

  const onClickBtn = e => {
    alert("ê²Œì„ì„ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤!");
    setResult("");
    setValue("");
    setTries([]);
    setAnswer(getNumbers());
    setGameover(false);
  };

  return (
    <>
      <div>
        <h1>ğŸ²ìˆ«ìì•¼êµ¬ğŸ</h1>
        <p>ë‚¨ì€ íšŸìˆ˜: {10 - tries.length}íšŒ</p>
        <form onSubmit={onSubmitForm}>
          <input
            required
            type="number"
            maxLength={4}
            value={value}
            placeholder="ìˆ«ìë¥¼ ë§í˜€ë³´ì„¸ìš”"
            onChange={onChangeInput}
            ref={inputRef}
          />
          <button>ì…ë ¥</button>
        </form>
      </div>
      <div>{result}</div>
      <ul>
        ğŸ” ë¡œê·¸
        {tries.map(el => (
          <li key={el.try}>
            {el.try} : {el.result}
          </li>
        ))}
      </ul>
      {gameover ? (
        <button type="button" onClick={onClickBtn}>
          ë‹¤ì‹œì‹œì‘
        </button>
      ) : null}
    </>
  );
};

export default BullsAndCows;


```

>ğŸ“ƒ **details**
```jsx
// ë Œë”ë§ ì„¤ì •
{gameover ? (
        <button type="button" onClick={onClickBtn}>
          ë‹¤ì‹œì‹œì‘
        </button>
      ) : null}
```
```jsx
// state ì„¤ì •
 const [gameover, setGameover] = useState(false);
```
```jsx
if (value === answer.join("")) {
      // ì •ë‹µì‹œ - ìƒˆê²Œì„
      setGameover(true);
    } else {
      if (tries.length >= 9) {
        // íšŸìˆ˜ ì´ˆê³¼ì‹œ - ê²Œì„ì˜¤ë²„ - ìƒˆê²Œì„
        setGameover(true);
```
```jsx
// ğŸ”» onClickBtn í•¨ìˆ˜
  const onClickBtn = e => {
    alert("ê²Œì„ì„ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤!");
    setResult("");
    setValue("");
    setTries([]);
    setAnswer(getNumbers());
    setGameover(false);
  };
```


***

####  ğŸ™‹â€â™‚ï¸í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ê¸°
<br>


ğŸ”» **BullsAndCows.jsx**
- triesì˜ ê° ìš”ì†Œë¥¼ `tryInfo`ë¼ëŠ” propìœ¼ë¡œ ë³´ëƒ„.
```jsx
// tries.map ë¶€ë¶„
<ul>
        ğŸ” ë¡œê·¸
        {tries.map((v, index) => (
          <Try key={`${index}ì°¨ì‹œë„`} tryInfo={v} />
        ))}
</ul>
```
ğŸ”» **Try.jsx**
- `props`ë¥¼ ë°›ì•„ì™€ì„œ ì‚¬ìš©
```jsx
import React from "react";

const Try = ({ tryInfo, index }) => {
  return (
    <li key={`${index}ì°¨ ì‹œë„:`}>
      {tryInfo.try} : {tryInfo.result}
    </li>
  );
};

export default Try;

```

>â— **ì°¸ê³ ** 
ì›ë˜ `index`ë¥¼ keyë¡œ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ì§€ë§Œ,
ì´ëŸ° ê²½ìš°ì—ëŠ” ì‚¬ìš©í•´ë„ ìƒê´€ ì—†ìŒ. 
