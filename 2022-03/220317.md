# React.js

Today I Learned ... `react.js`

> [ğŸ™‹â€â™‚ï¸React.js **Lecture**](https://www.youtube.com/watch?v=KDJNjLZrqJk&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn&index=18)

> [ğŸ™‹â€**My Dev Blog**](https://mywebproject.tistory.com/)

---


### ğŸš€ ì˜ˆì œ - **ëë§ì‡ê¸° ê²Œì„**

**WordRelay.jsx**

```
const React = require("react");
const { Component } = React;

class WordRelay extends Component {
  state = {
    word: "ê°•ì•„ì§€",
    value: "",
    result: "",
  };

  onSubmitForm = e => {
    e.preventDefault();
    if (this.state.value[0] === this.state.word[this.state.word.length - 1]) {
      this.setState(prevState => ({
        result: "ì •ë‹µì…ë‹ˆë‹¤.",
        value: "",
        word: prevState.value,
      }));
      this.input.focus();
    } else {
      this.setState({
        result: "í‹€ë ¸ìŠµë‹ˆë‹¤.",
        value: "",
      });
      this.input.focus();
    }
  };

  onChangeInput = e => {
    this.setState({
      value: e.target.value,
    });
  };

  input;
  onRefInput = el => {
    this.input = el;
  };

  render() {
    return (
      <>
        <div>{this.state.word}</div>
        <form onSubmit={this.onSubmitForm}>
          <input
            ref={this.onRefInput}
            value={this.state.value}
            onChange={this.onChangeInput}
          />
          <button>ì…ë ¥</button>
        </form>
        <div>{this.state.result}</div>
      </>
    );
  }
}

module.exports = WordRelay;  



```

**Hooks ì´ìš©ì‹œ**

```

const React = require("react");
const { useState, useRef } = React;

const WordRelay = () => {
  const [word, setWord] = useState("ê°•ì•„ì§€");
  const [value, setValue] = useState("");
  const [result, setResult] = useState("");

  let inputRef = useRef(null);

  const onSubmitForm = e => {
    e.preventDefault();
    if (value[0] === word[word.length - 1]) {
      setResult("ì •ë‹µì…ë‹ˆë‹¤");
      setWord(value); 
      setValue("");
      inputRef.current.focus();
    } else {
      setResult("í‹€ë ¸ìŠµë‹ˆë‹¤");
      setValue("");
      inputRef.current.focus();
    }
  };

  const onChangeInput = e => {
    setValue(e.target.value);
  };

  return (
    <>
      <div>
        {word}
        <form onSubmit={onSubmitForm}>
          <input onChange={onChangeInput} value={value} ref={inputRef} />
          <button>ì…ë ¥</button>
        </form>
        <div>{result}</div>
      </div>
    </>
  );
};

module.exports = WordRelay;
```

#### ğŸ’¡ target VS currentTarget

| target | currentTarget |
| :-: | :-: |
| íƒ€ê²Ÿ | í˜„ì¬ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ê°€ ë¶€ì°©ëœ íƒ€ê²Ÿ |

#### ğŸ’¡ ì½œë°± ref VS React.useRef

```

// 1ï¸âƒ£ Callback ref

 <input ref={this.onRefInput} />

inputRef = null;              
onRefInput = ( el => inputRef = el);



// 2ï¸âƒ£ React.useRef

 <input ref={inputRef} />

 const inputRef = React.useRef(null);
```

### webpack build ìë™ìœ¼ë¡œ í•˜ëŠ” ë°©ë²•

ë§¤ë²ˆ ìˆ˜ì •í•  ë•Œ ë§ˆë‹¤`$ npx webpack` í•˜ê¸° ë²ˆê±°ë¡œìš°ë¯€ë¡œ  
webpackì„ ìë™ìœ¼ë¡œ buildí•˜ëŠ” ì„¤ì •ì„ í•´ì£¼ì.

> \*\* webpack Dev-server / Hot-Reloading\*\*

1.  npm i ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•´ì„œ **react-refresh**ì™€,

**pmmmwh**/react-refresh-webpack-pluginì„ ì„¤ì¹˜í•´ì¤€ë‹¤.  
`$ npm install react-refresh @pmmmwh/react-refresh-webpack-plugin -D`

2.  ì¶”ê°€ë¡œ **webpack Dev-serverë„ í•„ìš”**í•˜ë‹¤.  
    `$ npm install -D webpack-dev-server`

-   **package.json**![](https://images.velog.io/images/thisisyjin/post/ac40eb3a-b306-4e19-9b16-6eb16e99e002/image.png)

package.jsonì˜ **scripts ë¶€ë¶„**ì„ ìˆ˜ì •í•´ì¤€ë‹¤.

ë³€ê²½ ì „ : `"dev": "webpack"`  
**ë³€ê²½ í›„** : `"dev": "webpack serve --env development`

```
 "scripts": {
    "dev": "webpack serve --env development"
  },
```

**webpack.config.js**

```
const RefreshWebpackPlugin = require('@pmmmwh/react-refresh-webpack-plugin');

// ìƒëµ
  module: {
    ...
  },

  plugins: [
    new RefreshWebpackPlugin()
  ],

  output: {
    ...
  }
```

ìš°ì„ , @pmmmwh í”ŒëŸ¬ê·¸ì¸ì„ **require**ë¡œ ë¶ˆëŸ¬ì™€ì„œ ë³€ìˆ˜ë¡œ ì €ì¥í•œ í›„,  
`plugins`ì— **new ë³€ìˆ˜ëª…()**ì„ í•´ì¤€ë‹¤.

```
module: {
    rules: [
      {
        test: /\.jsx?/,
        loader: "babel-loader",
        options: {
          presets: ["@babel/preset-env", "@babel/preset-react"],
          plugins: [
            "@babel/plugin-proposal-class-properties",
            "react-refresh/babel",
          ],
        },
      },
    ],
  },
```

ì´ë¶€ë¶„ë„ babel-loaderì˜ ì„¤ì •ì— - pluginsì— - `"react-refresh/babel"`ì„ ì¶”ê°€í•œë‹¤.

#### ğŸŒ dev-server ì„¤ì •

```

output: {
    path: path.join(__dirname, "dist"), //__dirnameì€ í˜„ì¬í´ë”ê²½ë¡œ
    filename: "app.js",
    publicPath: "/dist/",
  },

  devServer: {
    publicPath: "/dist/",
    hot: true,
  },
```

**devServerì˜ ì„¤ì •**ì€ ìœ„ì™€ ê°™ì´  
outputì˜ **publicPath**ë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¨ í›„, `hot: true`ë¼ê³  ì ì–´ì¤€ë‹¤.

ğŸ”» ê³„ì† **dev-server ì„¤ì •ì´ ì˜¤ë¥˜**ë‚˜ì„œ í•œì°¸ í—¤ë§¸ë‹¤.  
ë‚˜ì˜ ì‚½ì§ˆ í›„ê¸°ê°€ ê¶ê¸ˆí•˜ë‹¤ë©´ **ì•„ë˜ í¬ìŠ¤íŒ…**ìœ¼ë¡œ ğŸ˜‚

[ğŸ˜¥dev-server ì„¤ì • ì—ëŸ¬](https://velog.io/@thisisyjin/dev-server-%ED%95%AB%EB%A6%AC%EB%A1%9C%EB%93%9C-%EC%84%A4%EC%A0%95-%EA%B3%BC%EC%A0%95%EC%97%90%EC%84%9C%EC%9D%98-%EC%97%90%EB%9F%AC)

> **ë°”ë€ ë¶€ë¶„**

```
 output: {
    path: path.join(__dirname, "dist"),
    filename: "[name].js",  // app.jsì—ì„œ [name]ìœ¼ë¡œ
    publicPath: "/dist",  
  },

 devServer: {
    devMiddleware: { publicPath: "/dist" }, 
    static: { directory: path.resolve(__dirname) },
    hot: true,
  },
```
